---
sidebar: sidebar 
permalink: virtualization/vsphere_ontap_ontap_capabilities_for_vsphere.html 
keywords: protocols, licensing, virtualization, NFS Plug-In for VMware VAAI, VASA Provider, Storage Replication Adapter 
summary: 'ONTAP는 SAN 환경을 위한 iSCSI, FC(파이버 채널), FCoE(Fibre Channel over Ethernet) 또는 NVMe/FC(Non-Volatile Memory Express over Fibre Channel)와 NFS(v3 및 v4.1), 게스트 연결을 위한 SMB 또는 S3와 같은 가상화에 사용되는 모든 주요 스토리지 프로토콜을 지원합니다. 고객은 자체 환경에 가장 적합한 프로토콜을 자유롭게 선택할 수 있으며 필요에 따라 단일 시스템에서 프로토콜을 결합할 수 있습니다.' 
---
= vSphere를 위한 ONTAP 기능
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/




== 프로토콜

ONTAP는 SAN 환경을 위한 iSCSI, FC(파이버 채널), FCoE(Fibre Channel over Ethernet) 또는 NVMe/FC(Non-Volatile Memory Express over Fibre Channel)와 NFS(v3 및 v4.1), 게스트 연결을 위한 SMB 또는 S3와 같은 가상화에 사용되는 모든 주요 스토리지 프로토콜을 지원합니다. 고객은 자체 환경에 가장 적합한 프로토콜을 자유롭게 선택할 수 있으며 필요에 따라 단일 시스템에서 프로토콜을 결합할 수 있습니다. 예를 들어, NFS 데이터 저장소의 일반 사용을 몇 개의 iSCSI LUN 또는 게스트 공유로 보강할 수 있습니다.



== 피처

가상화된 워크로드를 관리하는 데 유용한 ONTAP 기능이 많이 있습니다. 추가 제품 라이센스가 필요한 일부 제품에 대해서는 다음 섹션에서 설명합니다. 그 외 일부는 ONTAP를 비롯한 전체 NetApp 포트폴리오의 독립 실행형 툴로 패키징되어 있습니다.

기본 ONTAP 기능에 대한 자세한 내용은 다음과 같습니다.

* * NetApp 스냅샷 복사본 * ONTAP은 스냅샷 복사본을 생성하거나 사용할 때 성능 저하 없이 VM 또는 데이터 저장소의 즉각적인 스냅샷 복사본을 제공합니다. 패치 적용 전 또는 간단한 데이터 보호를 위해 VM의 복원 지점을 만드는 데 사용할 수 있습니다. 이는 VMware(정합성 보장) 스냅샷과 다릅니다. ONTAP 스냅샷 복사본을 만드는 가장 쉬운 방법은 VMware vSphere용 SnapCenter 플러그인을 사용하여 VM 및 데이터 저장소를 백업하는 것입니다.
* * 스토리지 효율성 * ONTAP는 인라인 및 백그라운드 중복제거 및 압축, 제로 블록 중복제거, 데이터 컴팩션을 지원합니다.
* * 볼륨 및 LUN 이동. * vSphere 데이터 저장소와 VVOL을 지원하는 볼륨 및 LUN을 ONTAP 클러스터 내에서 중단 없이 이동하여 성능과 용량의 균형을 맞추거나 무중단 유지보수 및 업그레이드를 지원할 수 있습니다.
* * QoS. * QoS를 사용하면 개별 LUN, 볼륨 또는 파일의 성능을 관리할 수 있습니다. 이 기능은 알 수 없거나 부족한 VM을 제한하거나 중요한 VM에 충분한 성능 리소스가 확보되도록 하는 데 사용할 수 있습니다.
* * NetApp 볼륨 암호화, NetApp 애그리게이트 암호화. * NetApp 암호화 옵션은 유휴 데이터를 보호하기 위해 간편한 소프트웨어 기반 암호화를 제공합니다.
* * FabricPool. * 이 기능은 사용 빈도가 낮은 데이터를 블록 레벨에서 별도의 오브젝트 저장소로 자동으로 계층화하고, 사용 빈도가 높은 플래시 스토리지를 사용합니다.
* * 안정, Ansible. * 사용 https://devnet.netapp.com/restapi["ONTAP REST API"^] 스토리지 및 데이터 관리를 자동화하고, 및 를 누릅니다 https://netapp.io/configuration-management-and-automation/["Ansible 모듈"^] ONTAP 시스템의 구성 관리를 위해 일부 ONTAP 기능은 vSphere 워크로드에 적합하지 않습니다. 예를 들어, ONTAP 9.8 이전의 FlexGroup는 전체 클론 복제 지원을 제공하지 않았으며 vSphere에서 테스트되지 않았습니다(vSphere와 함께 사용하는 최신 정보는 FlexGroup 섹션 참조). FlexCache는 읽기 작업이 많은 워크로드에 맞게 설계되었기 때문에 vSphere에도 적합하지 않습니다. 캐시가 오리진에서 분리되어 양쪽에서 NFS 데이터 저장소 오류가 발생하는 경우 쓰기에 문제가 발생할 수 있습니다.




== ONTAP 라이센스

가상화된 워크로드를 관리하는 데 유용한 일부 ONTAP 기능은 추가 비용 없이 라이센스 번들 또는 별도 구매 없이 추가 라이센스가 필요합니다. 많은 고객의 경우 가장 비용 효율적인 방법은 라이센스 번들과 함께 사용하는 것입니다. vSphere와 관련된 주요 라이센스 및 라이센스 사용 방법은 다음과 같습니다.

* FlexClone *. * FlexClone은 ONTAP 볼륨 및 파일의 즉각적이고 공간 효율적인 클론을 지원합니다. 이 클론 복제는 VMware vSphere Storage API – 어레이 통합(VAAI), 백업 검증 및 복구(SnapCenter 소프트웨어), VVOL 클론 복제 및 스냅샷 복사본에 의해 스토리지 시스템으로 오프로드되는 경우에 사용됩니다. 사용 방법은 다음과 같습니다.
+
** VAAI는 ONTAP에서 vSphere 클론 및 마이그레이션(Storage vMotion) 작업을 지원하기 위해 오프로드된 복제본을 지원합니다. FlexClone 라이센스를 사용하면 NetApp FlexVol 볼륨 내에서 빠른 클론을 생성할 수 있지만, 라이센스가 없는 경우에는 더 느린 블록 복사본을 사용하여 복제할 수 있습니다.
** VVOL 기능을 사용하려면 FlexClone 라이센스가 필요합니다. 단일 데이터 저장소 또는 데이터 저장소 간에 VVOL을 클론 복제할 수 있으며, 스토리지 시스템으로 오프로드되는 VVOL의 vSphere 관리 스냅샷 복사본을 사용할 수 있습니다.


* SRA(스토리지 복제 어댑터)는 VMware Site Recovery Manager와 함께 사용되며, NAS 환경과 SAN 환경 모두에서 복구를 테스트하려면 FlexClone 라이센스가 필요합니다. SRA는 FlexClone 없이 검색, 복구 및 재보호 워크플로우에 사용할 수 있습니다.
* * SnapRestore. * SnapRestore 기술을 사용하면 데이터를 복사하지 않고도 제자리에서 볼륨을 즉시 복구할 수 있습니다. 검증 및 복원 작업을 위해 데이터 저장소를 마운트하는 데 사용되는 SnapCenter와 같은 NetApp 백업 및 복구 툴에 필요합니다.
* SnapMirror. * SnapMirror 기술을 사용하면 ONTAP 온프레미스와 클라우드 간에 데이터를 간단하고 빠르게 복제할 수 있습니다. SnapMirror는 블록 복제 성능을 통해 논리 복제의 버전 유연성을 지원하며 변경된 데이터만 보조 시스템으로 전송합니다. 미러 및/또는 볼트 정책으로 데이터를 보호할 수 있으므로 재해 복구뿐만 아니라 백업을 위한 장기 데이터 보존이 가능합니다. SnapMirror는 비동기 및 동기 관계를 지원하며, ONTAP 9.8은 SnapMirror 비즈니스 연속성을 통해 투명한 애플리케이션 장애 조치를 도입했습니다.
+
SnapMirror는 Site Recovery Manager를 사용한 SRA 복제에 필요합니다. SnapCenter에서 2차 스토리지 시스템으로 스냅샷 복사본을 복제할 수도 있습니다.

* * SnapCenter. * SnapCenter 소프트웨어는 애플리케이션 정합성을 보장하는 데이터 보호 및 클론 관리를 위한 확장 가능한 유니파이드 플랫폼 및 플러그인 제품군을 제공합니다. SnapCenter 라이센스는 AFF 및 FAS 시스템용 데이터 보호 라이센스 번들에 포함되어 있습니다. VMware vSphere용 SnapCenter 플러그인은 FAS, AFF, Cloud Volumes ONTAP 또는 ONTAP Select와 같은 스토리지 시스템을 사용하는 경우 무료로 제공됩니다. 그러나 SnapRestore 및 FlexClone 라이센스가 필요합니다.
* * MetroCluster. * NetApp MetroCluster는 캠퍼스 또는 도심 지역에서 고가용성 및 재해 복구를 결합하여 사이트 재해와 하드웨어 운영 중단을 모두 방지하는 동기식 복제 솔루션입니다. 데이터 무손실(0 RPO) 및 빠른 복구(RTO(분 이내)를 제공하는 투명한 장애 복구 기능을 갖춘 솔루션을 제공합니다. vSphere Metro Storage Cluster 구성의 일부로 vSphere 환경에서 사용됩니다.




== ONTAP용 가상화 툴

NetApp은 ONTAP 및 vSphere와 함께 사용하여 가상화 환경을 관리할 수 있는 몇 가지 독립 실행형 소프트웨어 툴을 제공합니다. 다음 툴은 ONTAP 라이센스와 함께 추가 비용 없이 제공됩니다. 그림 1을 참조하여 vSphere 환경에서 이러한 툴이 함께 작동하는 방식을 보여 줍니다.



=== VMware vSphere용 ONTAP 툴

VMware vSphere용 ONTAP 툴은 ONTAP 스토리지를 vSphere와 함께 사용하기 위한 일련의 툴입니다. 이전에 VSC(Virtual Storage Console)라고도 하는 vCenter 플러그인을 사용하면 SAN 또는 NAS를 사용하든지 스토리지 관리 및 효율성 기능을 단순화하고, 가용성을 향상하고, 스토리지 비용과 운영 오버헤드를 줄일 수 있습니다. Best Practice를 사용하여 데이터 저장소를 프로비저닝하고 NFS 및 블록 스토리지 환경에 대한 ESXi 호스트 설정을 최적화합니다. 이러한 모든 이점을 누리게 하려면 ONTAP 소프트웨어를 실행하는 시스템에서 vSphere를 사용할 때 이러한 ONTAP 툴을 모범 사례로 사용하는 것이 좋습니다. 여기에는 vCenter용 서버 어플라이언스 및 사용자 인터페이스 확장이 모두 포함됩니다.



=== VMware VAAI용 NFS 플러그인

VMware용 NetApp NFS 플러그인은 ESXi 호스트에서 ONTAP의 NFS 데이터 저장소와 함께 VAAI 기능을 사용할 수 있도록 지원하는 플러그인입니다. 클론 작업을 위한 복제 오프로드, 일반 가상 디스크 파일의 공간 예약, 스냅샷 복사본 오프로드를 지원합니다. 복제 작업을 스토리지로 오프로드하는 것이 반드시 완료되도록 빨라지는 것은 아니지만 CPU 주기, 버퍼 및 큐와 같은 호스트 리소스를 오프로드합니다. VMware vSphere용 ONTAP 툴을 사용하여 ESXi 호스트에 플러그인을 설치할 수 있습니다.



=== ONTAP를 위한 VASA 공급자

VASA Provider for ONTAP는 VMware VASA(vStorage APIs for Storage Awareness) 프레임워크를 지원합니다. 이 제품은 구축 편의성을 위해 VMware vSphere용 ONTAP 툴의 일부로 단일 가상 어플라이언스로 제공됩니다. VASA Provider는 vCenter Server를 ONTAP와 연결하여 VM 스토리지를 프로비저닝하고 모니터링할 수 있도록 지원합니다. 이를 통해 VVol(VMware Virtual Volumes) 지원, 스토리지 기능 프로필 관리, 개별 VM VVol 성능, 용량 모니터링 및 프로파일 규정 준수에 대한 경보를 수행할 수 있습니다.



=== 스토리지 복제 어댑터

SRA는 VMware SRM(Site Recovery Manager)과 함께 사용하여 운영 및 재해 복구 사이트 간 데이터 복제를 관리하고 DR 복제본을 중단 없이 테스트합니다. 검색, 복구 및 재보호 작업을 자동화할 수 있습니다. Windows SRM 서버 및 SRM 어플라이언스에는 SRA 서버 어플라이언스와 SRA 어댑터가 모두 포함됩니다. SRA는 VMware vSphere용 ONTAP 툴의 일부로 제공됩니다.

다음 그림에서는 vSphere용 ONTAP 툴을 보여 줍니다.

image:vsphere_ontap_image1.png["오류: 그래픽 이미지가 없습니다"]
