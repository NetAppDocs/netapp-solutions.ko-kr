---
sidebar: sidebar 
permalink: virtualization/virt-options-on-netapp.html 
keywords: virtualization, overview, options, vmware, alternatives, hyperv, proxmox, openshift 
summary: 이 문서에서는 가상화 솔루션에 관계없이 NetApp이 가상화 환경을 위한 최고의 플랫폼인 이유를 간략하게 설명합니다. 
---
= 모든 가상화 솔루션에 NetApp 사용
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
이 문서에서는 가상화 솔루션에 관계없이 NetApp이 가상화 환경을 위한 최고의 플랫폼인 이유를 간략하게 설명합니다.



== 소개

VMware의 최근 라이센스 변경 사항을 감안할 때 조직은 비용 효율성과 확장성을 유지하기 위해 가상화 전략을 조정해야 합니다. 기존 엔터프라이즈 스토리지를 사용하고 멀티 하이퍼바이저 또는 하이브리드 클라우드 접근 방식을 수용하는 등 독립형 vSphere에서 VCF(VMware Cloud Foundation)로 마이그레이션하는 것을 고려하는 것이 기존 VMware 환경을 최적화하는 데 있어 중추적인 단계입니다. 특히 VCF 5.2.1은 vSAN을 넘어서는 대체 스토리지 솔루션을 사용할 수 있게 함으로써 유연성을 강화했습니다. 이 덕분에 조직에서 엔터프라이즈 스토리지 기능을 사용하면서 새로운 라이센스 메커니즘을 쉽게 채택할 수 있게 되었으며 계속해서 원활하게 실행할 수 있게 되었습니다.

ONTAP은 온프레미스 또는 클라우드의 모든 워크로드에 적합한 플랫폼입니다. ONTAP은 사내에서 널리 사용되는 모든 하이퍼바이저를 지원하며 각 클라우드에서 VMware 클라우드 오퍼링 및 클라우드 네이티브 워크로드를 지원하는 자사 오퍼링을 제공하고 있습니다. 이를 통해 조직은 적절한 배포 모델을 탐색하여 라이선스 변경을 쉽게 처리할 수 있습니다.

이 백서에서는 VMware 배포를 최적화하기 위한 전략과 멀티 하이퍼바이저 채택을 평가하고 vSphere에서 VCF로 VM을 마이그레이션하며 사용 가능한 모든 옵션을 다루는 대체 하이퍼바이저로 VM을 마이그레이션하는 방법에 대해 자세히 설명합니다.



== 변경된 내용

Broadcom의 VMware 인수로 인해 VMware 라이센스 모델이 크게 바뀌었습니다. 새로운 접근 방식은 가입 기반 가격 체계로 전환되고 있으며, 업계 추세에 따라 비용이 크게 증가할 것으로 예상됩니다. 다음 두 가지 사항을 염두에 두어야 합니다.

* 구독 기반 라이선스 *: VMware는 영구 라이선스에서 구독 기반 모델로 전환되고 있습니다.

* 소켓당 *: CPU당 가격이 코어당 가격에서 코어당 소켓으로 바뀌는 것은 상당한 비용 증가로 이어질 수 있음을 의미합니다.



=== 핵심 요점

Broadcom의 이러한 변화로 고객은 리소스 요구를 평가하고, 활용도를 더욱 효과적으로 최적화하며, 이러한 변경으로 인해 대체 옵션을 모색해야 합니다.



== ONTAP을 선택해야 하는 이유

NetApp 스토리지 솔루션은 고객이 가상화된 인프라의 모든 이점을 최대한 활용할 수 있도록 지원하는 솔루션을 제공하는 데 있어 가장 중요한 역할을 합니다. NetApp 솔루션을 사용하는 고객은 자동화, 효율성, 데이터 보호 및 보안 기능을 제공하는 포괄적인 데이터 관리 소프트웨어를 신속하게 구축하고 까다로운 성능 요구사항을 충족할 수 있습니다. ONTAP 소프트웨어를 VMware vSphere와 결합하면 호스트 하드웨어 및 VMware 라이센스 비용을 절감하고, 데이터를 저렴한 비용으로 보호하고, 일관된 고성능을 제공할 수 있습니다. 가상화된 워크로드는 모바일 워크로드입니다.

따라서 관리자는 VMware Storage vMotion을 사용하여 동일한 스토리지 시스템에 상주하는 VMware VMFS(Virtual Machine File System), NFS 또는 VVol 데이터 저장소 간에 VM을 이동하므로 All-Flash 시스템을 사용할 경우 또는 SAN 혁신 기술과 함께 최신 ASA 모델을 사용하여 비용 효율성을 높일 수 있습니다.

image:virt-options-image1.png["NetApp ONTAP의 이점 다이어그램"]

ONTAP 스토리지 솔루션은 다음과 같은 이점을 제공합니다.

* * 독립적 확장 *: 컴퓨팅을 추가하지 않고 스토리지를 확장합니다. 워크로드 데이터 관리, 보호 및 이동성을 vSphere와 통합된 스토리지로 오프로드합니다.
* * 눈부신 빠른 성능 *: 최첨단 NVMe 및 ASA 아키텍처로 1밀리초 미만의 지연 시간과 높은 처리량을 제공합니다. 기존 VM 및 최신 Kubernetes 또는 AI 구축을 위해 플래시, NVMe 및 GPU 성능을 최적화합니다.
* * 포괄적인 데이터 서비스 *: 내장형 기능을 사용하여 85-90% 더 높은 데이터 센터 효율성과 5배~30배 더 적은 스토리지 용량을 사용하여 데이터를 압축, 중복 제거 및 압축할 수 있습니다.
* * 원활한 클러스터링 및 고가용성 *: SnapMirror 액티브 동기화 및 MetroCluster를 활용하여 손쉽게 확장 클러스터링과 강력한 재해 복구를 수행할 수 있습니다.
* * 다중 프로토콜 *: ONTAP는 NFS, iSCSI, SMB 및 S3 등의 여러 프로토콜을 통해 데이터에 대한 액세스를 지원합니다. ONTAP를 실행하는 시스템은 여러 가지 중요한 방식으로 통합됩니다. 이 접근 방식은 원래 NAS 및 SAN 프로토콜을 모두 갖추고 있으며, ONTAP는 NAS에서 그 원래 강점이 되었던 SAN을 위한 선도적인 플랫폼이 되었습니다.
* * 자동 프로비저닝 및 오케스트레이션 *: VMware 및 REST API, vSphere 플러그인 및 SPBM(스토리지 정책)용 ONTAP 툴을 활용하여 스토리지 관리를 자동화하고 간소화합니다.
* * 통합된 데이터 보호 및 저렴한 재해 복구 *: NetApp SnapCenter를 사용하여 가상 워크로드 백업 및 복원을 오프로드하고 RPO 0과 RTO 데이터 복제를 제공합니다. 온프레미스, 온프레미스 NetApp ONTAP 환경 또는 VMware Cloud와 NetApp이 지원하는 클라우드 스토리지를 포함하여 VMware 워크로드에 대한 저렴한 재해 보호를 제공하는 값비싼 대체 인프라를 구입하여 배포할 필요가 없습니다.
* * 랜섬웨어 감지 *: VMware 레벨 보안 및 규정 준수를 데이터에 맞게 확장하여 다단계 인증, 역할 기반 액세스, 포괄적인 로깅, 사용자 행동 이상 징후 탐지를 통해 내장된 자율적 랜섬웨어 방지 및 제로 트러스트 호환성을 통해 보호, 감지, 해결 및 복구 기능을 개선합니다.
* * 통합 하이브리드 클라우드 *: 워크로드 이동성, 백업 및 복원, 재해 복구를 위해 모든 하이퍼스케일 클라우드(VMC, EVS, AVS, GCVE)로의 간소화 및 통합
* * 스토리지 수명 주기 프로그램(SLP) *: 조직이 해당 단계를 수행할 준비가 되면 차세대 컨트롤러로 중단 없이 업그레이드하거나 클라우드 스토리지를 선택할 수 있습니다.




=== 핵심 요점

* ONTAP를 활용하면 초기 용량에서 시작하여 계층화 기능을 활용하여 데이터를 오브젝트 스토리지로 오프로드할 수 있습니다. 이 방법을 사용하면 호스트를 새로 추가할 필요 없이 전체 비용을 크게 줄일 수 있습니다. 스토리지 사용을 최적화하면 일반적으로 20~50%의 비용을 크게 절감할 수 있습니다.
* ONTAP 스토리지는 여러 워크로드 도메인에서 사용할 수 있으며 특정 클러스터에 제한되지 않아 전체적인 사용률이 향상됩니다.
* ONTAP를 사용하면 스토리지 효율성, 암호화, 스냅샷 등과 같은 CPU 집약적인 작업을 오프로드하여 ESXi 호스트에 대한 CPU 영향을 제거할 수 있습니다. 이러한 최적화를 통해 각 호스트에 더 적은 수의 코어를 요구함으로써 TCO(총 소유 비용)를 절감할 수 있습니다.
* 구성할 RAID 또는 스토리지 풀이 없는 원활한 스토리지, 지속적인 데이터 축소 및 암호화 기능을 제공합니다.




== 적절한 크기 조정 및 최적화

라이선싱이 변경됨에 따라 모든 조직은 TCO(총 소유 비용)가 증가할 수 있다는 부담에 시달리고 있습니다. 최적화된 VMware 환경은 라이센스 비용을 제어하면서 성능을 극대화합니다. 이를 통해 효과적인 리소스 관리 및 용량 계획이 보장됩니다. 적절한 툴을 사용하여 낭비되거나 유휴 리소스를 빠르게 식별하여 코어를 회수하도록 함으로써 코어 수를 줄이고 이로 인해 전체 라이센스 비용이 절감됩니다.

NetApp는 이러한 문제를 해결할 수 있는 강력한 도구 모음을 제공하여 향상된 가시성, 원활한 통합, 비용 효율성 및 강력한 보안을 제공합니다. 이러한 기능을 사용함으로써 조직은 이러한 운영 중단 동안 생존하고 성공할 수 있으며 미래의 다른 예상치 못한 과제에 대비할 수 있습니다.

* 참고 * 참고 *: 대부분의 조직에서 이미 클라우드 평가의 일환으로 이 작업을 수행하고 있으며, 이는 온프레미스 환경에서 비용 문제를 방지하고 즉각적인 감정이 활성화된 대체 하이퍼바이저에 대한 마이그레이션 비용을 절감하는 데 도움이 되는 프로세스와 도구와도 동일합니다.



=== NetApp의 지원 방식

* NetApp TCO 추정기 * - NetApp의 무료 TCO 예측 도구

* 간단한 HTML 기반 계산기
* NetApp VMDC, RVtools 또는 수동 입력 방법을 사용합니다
* 지정된 구축에 필요한 호스트 수를 쉽게 예측하고 비용 절감을 계산하여 NetApp ONTAP 스토리지 시스템을 사용하여 구축을 최적화할 수 있습니다.
* 에는 가능한 절감액이 나와 있습니다



NOTE: TCO 추정기는 NetApp 현장 팀 및 파트너만이 액세스할 수 있습니다. NetApp 어카운트 팀과 협력하여 기존 환경을 평가합니다.

* VMDC * - NetApp의 무료 VMware 평가 툴

* 구성 및 성능 데이터를 특정 시점에 간단하게 수집합니다
* 웹 인터페이스를 통한 간단한 Windows 기반 배포
* VM 토폴로지 관계를 시각화하고 Excel 보고서를 내보냅니다
* 특히 VMware 코어 라이센스 최적화를 목표로 합니다


* 데이터 인프라 인사이트 * (이전의 Cloud Insights)

이제 실시간 메트릭을 사용하여 가상 시스템 전반에 걸쳐 워크로드 IO 프로필을 분석하는 방법을 자세히 알아볼 때입니다.

* 하이브리드/멀티 클라우드 환경에서 SaaS 기반의 지속적인 모니터링 제공
* Pure, Dell, HPE 스토리지 시스템을 포함한 이기종 환경을 지원합니다
* 거의 사용되지 않는 VM 및 사용되지 않는 스토리지 용량을 식별하는 ML 기반 고급 분석 기능을 제공하여 VM 재확보 관련 세부 분석과 권장 사항을 제공합니다
* 마이그레이션 전에 VM의 적절한 사이징을 위한 워크로드 분석 기능을 제공하고 마이그레이션 도중과 마이그레이션 후에 중요한 애플리케이션이 SLA를 충족하도록 보장합니다
* 60일 무료 평가판 기간 사용 가능



NOTE: NetApp는 NetApp ® 아키텍처 및 설계 서비스의 기능인 가상화 현대화 평가라는 평가를 제공합니다. 모든 VM은 CPU 사용률 및 메모리 사용률, 두 개의 축에 매핑됩니다. 워크샵에서는 리소스를 효율적으로 활용하고 비용 최소화를 촉진하기 위해 온프레미스 최적화 및 클라우드 마이그레이션 전략에 대한 모든 세부 정보가 고객에게 제공됩니다. 이러한 전략을 구현함으로써 조직은 비용을 효과적으로 관리하는 동시에 고성능 VMware 환경을 유지할 수 있습니다.



=== 핵심 요점

VMDC는 이기종 환경 전반에 걸쳐 지속적인 모니터링과 고급 ML 기반 분석을 위해 DII를 구현하기 전에 빠른 첫 번째 평가 단계를 수행합니다.



== VCF Import Tool - NFS 또는 FC를 주 스토리지로 사용하여 VCF를 실행합니다

VCF(VMware Cloud Foundation) 5.2를 출시하면 기존 vSphere 인프라를 VCF 관리 도메인으로 전환하고 추가 클러스터를 VCF VI 워크로드 도메인으로 가져올 수 있습니다. 이 VCF(VMware Cloud Foundation)와 함께 vSAN을 사용할 필요 없이 NetApp 스토리지 플랫폼에서 완벽하게 실행할 수 있습니다(예, vSAN이 없는 모든 기능). ONTAP에서 실행되는 기존 NFS 또는 FC 데이터 저장소가 있는 클러스터를 변환하려면 기존 인프라를 최신 프라이빗 클라우드에 통합해야 합니다. 따라서 vSAN이 필요하지 않습니다.

이 프로세스는 NFS 및 FC 스토리지의 유연성을 바탕으로 데이터 액세스 및 관리를 원활하게 수행합니다. 변환 프로세스를 통해 VCF 관리 도메인을 설정한 후 관리자는 NFS 또는 FC 데이터 저장소를 사용하는 클러스터를 포함하여 추가 vSphere 클러스터를 VCF 에코시스템으로 효율적으로 가져올 수 있습니다. 이 통합을 통해 리소스 활용률이 개선될 뿐만 아니라 프라이빗 클라우드 인프라 관리를 간소화하여 기존 워크로드의 운영 중단을 최소화하면서 원활하게 전환할 수 있습니다.


NOTE: 에서는 NFS 버전 3 및 FC 프로토콜만 기본 스토리지로 사용할 수 있습니다. 보조 스토리지는 vSphere 지원 NFS 프로토콜 버전 3 또는 4.1을 사용할 수 있습니다



=== 핵심 요점

기존 ESXi 클러스터를 가져오거나 변환하면 기존 ONTAP 스토리지를 데이터 저장소로 활용할 수 있으며 vSAN 또는 추가 하드웨어 리소스를 구축할 필요가 없으므로 VCF 리소스 효율성, 비용 최적화 및 간소화를 실현할 수 있습니다.



== ONTAP 스토리지를 사용하여 기존 vSphere에서 VCF로 마이그레이션

VMware Cloud Foundation이 신규 설치(새 vSphere 인프라스트럭처 및 Single Sign-On 도메인 생성)인 경우 이전 vSphere 버전에서 실행 중인 기존 워크로드는 Cloud Foundation에서 관리할 수 없습니다.

첫 번째 단계는 기존 vSphere 환경에서 실행 중인 현재 애플리케이션 VM을 Cloud Foundation으로 마이그레이션하는 것입니다. 마이그레이션 경로는 라이브, 웜, 콜드 등의 마이그레이션 선택 사항과 기존 vSphere 환경의 버전에 따라 다릅니다. 다음은 소스 스토리지에 따라 우선 순위가 지정된 옵션입니다.

* HCX는 현재 Cloud Foundation 워크로드 이동성에 사용할 수 있는 가장 다양한 기능을 갖춘 툴입니다.
* NetApp BlueXP  DRaaS 활용
* SRM을 사용한 vSphere 복제는 사용이 간편한 vSphere 마이그레이션 툴을 사용할 수 있습니다.
* VAIO 및 VADP를 사용하는 타사 소프트웨어 사용




== 비 NetApp 스토리지에서 ONTAP 스토리지로 VM 마이그레이션

대부분의 경우 가장 쉬운 방법은 Storage vMotion을 사용하는 것입니다. 클러스터는 새 ONTAP SAN 또는 NAS 데이터 저장소와 VM을 마이그레이션할 스토리지(SAN, NAS 등)에 모두 액세스할 수 있어야 합니다. 프로세스는 간단합니다.

* vSphere Web Client에서 하나 이상의 VM을 선택합니다.
* 선택 영역을 마우스 오른쪽 단추로 클릭하고, 을 클릭합니다
* 마이그레이션 을 클릭합니다.
* 스토리지 전용 옵션을 선택합니다.
* 새 ONTAP 데이터 저장소를 대상으로 선택하고, 를 선택합니다
* 마이그레이션 마법사의 마지막 몇 단계를 진행합니다.


vSphere는 VMX, NVRAM, VMDK 등의 파일을 이전 스토리지에서 ONTAP 지원 데이터 저장소로 복제합니다. vSphere는 많은 양의 데이터를 복제할 가능성이 있습니다. 이 방법은 가동 중지 시간이 필요하지 않습니다. VM은 마이그레이션되는 동안 계속 실행됩니다.

기타 옵션에는 호스트 기반 마이그레이션, 마이그레이션을 수행하기 위한 타사 복제가 포함됩니다.



== 스토리지 스냅샷을 사용한 재해 복구(스토리지 복제로 더 최적화)

NetApp는 비용을 크게 절감하고 복잡성을 줄일 수 있는 업계 최고 수준의 SaaS 기반 재해 복구(DRaaS) 솔루션을 제공합니다. 비싼 대체 인프라를 구입하여 배포할 필요가 없습니다.

운영 사이트에서 재해 복구 사이트로의 블록 레벨 복제를 통해 재해 복구를 구현하면 랜섬웨어 공격과 같은 사이트 중단 및 데이터 손상 이벤트로부터 워크로드를 보호할 수 있는 복원력과 비용 효율적인 방법입니다. NetApp SnapMirror 복제를 사용하면 NFS 또는 VMFS 데이터 저장소가 있는 사내 ONTAP 시스템에서 실행되는 VMware 워크로드를 VMware가 구축된 지정된 복구 데이터 센터에 있는 다른 ONTAP 스토리지 시스템에 복제할 수 있습니다.

NetApp BlueXP  콘솔에 통합된 BlueXP  재해 복구 서비스를 사용하여 고객이 사내 VMware vCenter를 ONTAP 스토리지와 함께 검색하고, 리소스 그룹을 만들고, 재해 복구 계획을 생성하고, 리소스 그룹에 연결하고, 페일오버 및 페일백을 테스트 또는 실행할 수 있습니다. SnapMirror는 변경된 증가분을 사용하여 두 사이트를 최신 상태로 유지하는 스토리지 레벨 블록 복제를 제공하여 RPO를 최대 5분으로 단축합니다.

또한 운영 및 복제된 데이터 저장소에 영향을 주거나 추가 스토리지 비용을 발생시키지 않고 DR 절차를 일반적인 드릴로 시뮬레이션할 수 있습니다. BlueXP  재해 복구는 ONTAP의 FlexClone 기술을 활용하여 DR 사이트의 마지막으로 복제된 스냅샷에서 VMFS 데이터 저장소의 공간 효율적인 복사본을 생성합니다. DR 테스트가 완료되면 고객은 실제 복제된 프로덕션 리소스에 영향을 주지 않고 테스트 환경을 간단히 삭제할 수 있습니다.

실제 페일오버가 필요한 경우(계획된 또는 계획되지 않은) 몇 번의 클릭으로 BlueXP  재해 복구 서비스가 지정된 재해 복구 사이트에서 보호된 가상 시스템을 자동으로 가져오는 데 필요한 모든 단계를 조정합니다. 또한 SnapMirror 관계를 운영 사이트로 되돌리고 필요한 경우 장애 복구 작업을 위해 2차 사이트에서 운영 사이트로 변경 사항을 복제합니다. 이 모든 것은 잘 알려진 다른 대안보다 훨씬 적은 비용으로 달성할 수 있습니다.


NOTE: 복제 기능을 지원하는 타사 백업 제품과 SRA를 사용하는 SRM은 다른 중요한 대체 옵션입니다.



== 랜섬웨어

랜섬웨어를 최대한 빨리 감지하는 것은 확산을 방지하고 비용이 많이 드는 다운타임을 방지하는 데 매우 중요합니다. 효과적인 랜섬웨어 감지 전략에서는 ESXi 호스트 및 게스트 VM 레벨에 여러 계층의 보호를 통합해야 합니다. 랜섬웨어 공격에 대한 포괄적인 방어 체계를 구축하기 위해 여러 보안 수단을 구현하지만, ONTAP를 사용하면 전체 방어 방식에 보호 계층을 더 추가할 수 있습니다. 몇 가지 기능을 소개하려면 Snapshots, 자율적 랜섬웨어 Protection, 무단 조작 방지 스냅샷 등으로 시작합니다.

위에서 언급한 기능이 VMware와 함께 작동하여 랜섬웨어로부터 데이터를 보호하고 복구하는 방법을 살펴보겠습니다. 공격으로부터 vSphere 및 게스트 VM을 보호하려면 엔드포인트에 대한 EDR/XDR/SIEM 분리, 보안 업데이트 설치, 적절한 강화 지침 준수 등 여러 가지 조치를 취해야 합니다. 데이터 저장소에 상주하는 각 가상 머신도 표준 운영 체제를 호스팅합니다. 엔터프라이즈 서버 맬웨어 방지 제품군이 설치되어 있고 정기적으로 업데이트되도록 하십시오. 이는 다계층 랜섬웨어 방어 전략의 필수 구성 요소입니다. 이와 함께 데이터 저장소를 지원하는 NFS 볼륨에서 ARP(Autonomous Ransomware Protection)를 활성화하십시오. ARP는 볼륨 워크로드 활동과 데이터 엔트로피를 살펴보는 내장 ML을 활용하여 랜섬웨어를 자동으로 탐지합니다. ARP는 ONTAP 내장 관리 인터페이스 또는 시스템 관리자를 통해 구성할 수 있으며 볼륨별로 활성화됩니다.

여러 계층 접근 방식을 추가할 때 기본적으로 내장된 ONTAP 솔루션이 백업 스냅샷 복사본의 무단 삭제를 방지합니다. ONTAP 9.11.1 이상에서 사용할 수 있는 다중 관리자 확인 또는 MAV라고 합니다. 이상적인 방법은 MAV 특정 작업에 대한 쿼리를 사용하는 것입니다.


NOTE: 새로운 NetApp ARP/AI를 사용하면 학습 모드가 필요하지 않습니다. 대신 AI 기반 랜섬웨어 감지 기능을 통해 바로 액티브 모드로 전환할 수 있습니다.


NOTE: ONTAP One을 사용하면 이러한 모든 기능 세트가 완전히 무료입니다. 라이센스 장벽에 대한 걱정 없이 NetApp의 강력한 데이터 보호, 보안 및 ONTAP가 제공하는 모든 기능을 이용할 수 있습니다.



== 고려해야 할 VMware 대체 솔루션

모든 조직은 이중 또는 타사 하이퍼바이저 전략을 지원하는 멀티 하이퍼바이저 접근 방식을 평가하고 있습니다. 이를 통해 운영 유연성을 강화하고, 공급업체 종속성을 완화하며, 워크로드 배치를 최적화합니다. 그런 다음 조직은 상호 운용성, 비용 효율적인 라이센싱 및 자동화를 활용하여 멀티 하이퍼바이저 관리를 간소화합니다. ONTAP는 모든 하이퍼바이저 플랫폼에 이상적인 플랫폼입니다. 이 접근 방식의 또 다른 주요 요구 사항은 SLA 및 워크로드 배치 전략에 기반한 동적 가상 머신 이동성입니다.



=== 멀티 하이퍼바이저 도입을 위한 주요 고려 사항

* * 전략적 비용 최적화 *: 단일 공급업체에 대한 의존도를 줄여 운영 및 라이센스 비용을 최적화합니다.
* * Workload Distribution *: 올바른 워크로드에 적합한 하이퍼바이저를 구축하면 효율성이 극대화됩니다.
* * 유연성 *: 데이터 센터 현대화 및 통합과 함께 비즈니스 애플리케이션 요구 사항에 따라 VM 최적화를 지원합니다.


이 섹션에서는 조직에서 우선 순위에 따라 고려하는 다양한 하이퍼바이저에 대해 간략하게 설명합니다.


NOTE: 조직에서 고려하는 일반적인 대체 옵션이지만 우선 순위는 평가, 기술 세트 및 워크로드 요구 사항에 따라 각 고객에 따라 다릅니다.

image:virt-options-image2.png["대체 가상화 옵션 다이어그램"]



=== Hyper-V(Windows Server)

* 혜택 *

* Windows Server 버전에서 잘 알려진 기본 제공 기능입니다.
* Windows Server 내의 가상 시스템에 대한 가상화 기능을 활성화합니다.
* Hyper-V는 System Center 제품군(SCVMM 및 SCOM 포함)의 기능과 통합될 경우 다른 가상화 솔루션에 견줄 만한 포괄적인 기능을 제공합니다.


* 통합 *

* NetApp SMI-S Provider는 SCVMM(System Center Virtual Machine Manager)과 SAN 및 NAS 모두를 위한 동적 스토리지 관리를 통합합니다.
* 많은 타사 백업 파트너도 완벽하게 최적화된 어레이 네이티브 백업 및 복구를 위해 ONTAP 스냅샷과 SnapMirror 지원의 통합을 지원합니다.
* ONTAP는 유연성과 스토리지 사용을 위해 SAN과 NAS 간에 네이티브 복사본 오프로드를 지원하는 유일한 데이터 인프라 시스템으로, ONTAP는 NAS(SMB/CIFS를 통한 SMB3 TRIM) 및 SAN(SCSI UNMAP을 사용한 iSCSI 및 FCP) 프로토콜에서 네이티브 공간 재확보를 제공합니다.
* 세부적인 백업 및 복구를 위한 SnapManager for Hyper-V(PVR 지원 필요)


* 마이그레이션해야 하는 이유 *

Windows Server의 Hyper-V는 다음과 같은 경우에 적합합니다.

* 최근에 새로운 하드웨어를 구입했거나 현재 가치가 떨어지는 사내 인프라에 많은 투자를 했습니다.
* 스토리지에 SAN 또는 NAS 사용(Azure Stack HCI는 옵션이 아님)
* 스토리지와 컴퓨팅을 독립적으로 확장해야 합니다
* 하드웨어 투자, 정치 환경, 규정 준수, 애플리케이션 개발 또는 기타 현재의 걸림돌로 인해 발생한 문제이든 현재는 현대화할 수 없습니다




=== OpenShift Virtualization(RedHat KubeVirt 구현)

* 혜택 *

* 컨테이너에서 실행되고 Pod로 관리되는 KVM 하이퍼바이저를 사용하여
* Kubernetes에서 예약, 구축 및 관리되는 리소스
* OpenShift 웹 인터페이스를 사용하여 가상 머신과 해당 리소스를 생성, 수정 및 제거합니다
* 영구 스토리지 패러다임을 구현하기 위해 컨테이너 오케스트레이터 리소스 및 서비스와 통합됩니다.


* 통합 *

* Trident CSI를 사용하면 VM 세분화 및 스토리지 클래스별 방식으로 NFS, FC, iSCSI 및 NVMe/TCP를 통해 스토리지를 동적으로 관리할 수 있습니다.
* 프로비저닝, 스냅샷 생성, 볼륨 확장 및 클론 생성을 위한 Trident CSI
* Trident Protect는 OpenShift 가상화 VM의 충돌 시에도 정합성이 보장되는 백업 및 복원을 지원하므로 모든 S3 호환 오브젝트 스토리지 버킷에 저장할 수 있습니다.
* 또한 Trident Protect는 OpenShift 가상화 VM에 대한 스토리지 복제와 자동화된 페일오버 및 페일백을 통해 재해 복구 기능을 제공합니다.


* 마이그레이션해야 하는 이유 *

OpenShift Virtualization은 다음과 같은 경우에 적합합니다.

* 가상 머신과 컨테이너를 단일 플랫폼으로 통합
* OpenShift 가상화는 이미 컨테이너 워크로드에 대해 라이센스가 부여된 OpenShift의 일부이기 때문에 라이센스 오버헤드를 줄입니다.
* 도입 첫날부터 전체 리팩토링 없이 기존 VM을 클라우드 네이티브 에코시스템으로 이동




=== Proxmox 가상 환경(Proxmox VE)

* 혜택 *

* QEMU KVM 및 LXC를 위한 포괄적인 오픈 소스 가상화 플랫폼입니다
* 리눅스 배포판 데비안 기반
* 독립형 기계 또는 여러 기계로 구성된 클러스터 내에서 모두 작동할 수 있습니다
* 가상 머신 및 컨테이너를 복잡하지 않고 효율적으로 구축합니다
* 사용자 친화적인 웹 기반 관리 인터페이스와 라이브 마이그레이션 및 백업 옵션 등의 기능을 제공합니다.


* 통합 *

* iSCSI, NFS v3, v4.1 및 v4.2를 사용하십시오.
* 빠른 클론 복제, 스냅샷 및 복제와 같은 ONTAP의 모든 장점을 제공합니다.
* nconnect 옵션을 사용하면 서버당 TCP 연결 수를 NFS 워크로드가 많은 경우 최대 16개까지 늘릴 수 있습니다.


* 마이그레이션해야 하는 이유 *

Proxmox는 다음과 같은 경우에 적합합니다.

* 오픈 소스를 통해 라이센스 비용을 없앨 수 있습니다.
* 사용하기 쉬운 웹 인터페이스로 관리가 간소화됩니다.
* 가상 머신과 컨테이너를 모두 지원하여 유연성을 제공합니다.
* 단일 인터페이스로 VM, 컨테이너, 스토리지 및 네트워킹을 관리합니다
* 제한 없이 모든 기능을 이용할 수 있습니다
* Credativ를 통한 전문 서비스 및 지원




=== VMware 클라우드 오퍼링(Azure VMware Solution, Google Cloud VMware Engine, VMware Cloud on AWS, Elastic VMware Service)

* 혜택 *

* VMware In Cloud는 해당 하이퍼스케일 데이터 센터에서 호스팅되는 "프라이빗 클라우드"를 제공하며, 전용 베어 메탈 인프라를 사용하여 VMware 인프라를 호스팅합니다.
* vCenter, vSphere, vSAN 및 NSX 등의 VMware 기능을 사용하여 클러스터당 최대 16개의 호스트를 지원합니다
* 신속한 구축 및 확장/축소
* 유연한 구매 옵션: 시간별 온디맨드, 1년 및 3년 예약 인스턴스, 특정 하이퍼스케일러에서 5년 옵션 사용 가능
* 익숙한 툴과 프로세스를 제공하여 온프레미스 VMware에서 클라우드 VMware로 마이그레이션할 수 있도록 지원합니다.


* 통합 *

* 각 클라우드의 NetApp 기반 스토리지(Azure NetApp Files, FSx for ONTAP, Google Cloud NetApp 볼륨)는 컴퓨팅 노드를 확장하는 대신 vSAN 스토리지를 보완합니다.
* 일관된 성능, 용량제 파일 스토리지 서비스
* 지능형 데이터 서비스
* 효율적인 스냅샷 및 클론을 통해 규모에 따라 복제본 및 체크포인트 변경 사항을 신속하게 생성
* 지역 재해 복구 및 백업을 위해 효율적인 증분 블록 전송 기반 복제
* 스토리지 집약적인 애플리케이션을 NetApp 기반 클라우드 스토리지를 데이터 저장소로 사용할 경우 실행하는 비용이 더 저렴합니다


* 마이그레이션해야 하는 이유 *

* 스토리지 집약적인 구축으로 컴퓨팅 노드를 추가하는 대신 스토리지 용량을 오프로드하여 비용을 절감합니다
* Hyper-V, Azure Stack 또는 네이티브 VM 포맷으로 전환하는 데 필요한 기술보다 더 적은 수준의 업스킬을 필요로 합니다
* 최대 3년 또는 5년(클라우드 공급자에 따라 다름) 동안 다른 라이센스 비용의 변경에도 영향을 받지 않는 가격 변동
* BYOL(Bring Your Own Licensing) 서비스 제공
* 온프레미스에서의 전환 및 전환을 통해 주요 영역에서 잠재적으로 비용을 줄일 수 있습니다.
* 재해 복구 기능을 클라우드로 구축 또는 전환하고 비용을 절감하며 운영 부담을 줄일 수 있습니다


하이퍼스케일러의 VMware Cloud를 재해 복구 타겟으로 사용하려는 고객의 경우 ONTAP 스토리지 기반 데이터 저장소(Azure NetApp Files, Amazon FSx for NetApp ONTAP, Google Cloud NetApp Volumes)를 사용하여 VM 복제 기능을 제공하는 검증된 타사 솔루션을 사용하여 온프레미스에서 데이터를 복제할 수 있습니다. ONTAP 스토리지 기반 데이터 저장소를 추가하면 더 적은 수의 ESXi 호스트로 타겟에 최적화된 재해 복구를 수행할 수 있습니다. 또한 온프레미스 환경에서 2차 사이트를 폐기할 수 있으므로 비용을 크게 절감할 수 있습니다.

* 에 대한 자세한 지침을 link:https://docs.netapp.com/us-en/netapp-solutions/ehc/veeam-fsxn-dr-to-vmc.html["FSx ONTAP 데이터 저장소로 재해 복구"]봅니다.
* 에 대한 자세한 지침을 link:https://docs.netapp.com/us-en/netapp-solutions/ehc/azure-native-dr-jetstream.html["Azure NetApp Files 데이터 저장소로 재해 복구"]봅니다.
* 에 대한 자세한 지침을 link:https://docs.netapp.com/us-en/netapp-solutions/ehc/gcp-app-dr-sc-cvs-veeam.html["Google Cloud NetApp 볼륨 데이터 저장소로 재해 복구"]봅니다.




=== 클라우드 네이티브 가상 머신


NOTE: NetApp은 모든 3가지 주요 하이퍼스케일 서비스 전반에 걸쳐 클라우드에서 VMware와 통합된 퍼스트 파티(1P) 스토리지 서비스를 제공하는 유일한 공급업체입니다.

* 혜택 *

* 유연한 가상 머신 크기로 컴퓨팅 리소스를 최적화하여 특정 비즈니스 요구 사항을 충족하고 불필요한 비용을 제거합니다.
* 클라우드 유연성을 통해 성능 모니터링, 구성 관리, 지속적인 앱 개발을 지원하므로 미래로 원활하게 전환합니다.


* NetApp 기반 스토리지를 사용하여 클라우드 네이티브 가상 머신으로 마이그레이션해야 하는 이유 *

* 씬 프로비저닝, 스토리지 효율성, 설치 공간 제로 클론, 통합 백업, 블록 레벨 복제, 계층화와 같은 엔터프라이즈 스토리지 기능을 활용하여 마이그레이션 작업을 최적화하고 도입 첫날부터 미래 지향형 구축 가능
* ONTAP를 통합하고 제공하는 비용 최적화 기능을 사용하여 클라우드 내 네이티브 클라우드 인스턴스에서 사용되는 현재 스토리지 구축을 최적화할 수 있습니다
* 비용 절감 기능
+
** ONTAP 데이터 관리 기술 사용
** 다양한 리소스를 통한 예약
** 버스터블 및 스팟 가상 시스템 사용


* AI/ML과 같은 최신 기술을 활용하십시오
* 필요한 IOP 및 처리량 매개 변수를 충족하기 위해 클라우드 인스턴스를 적절한 크기로 조정하여 블록 스토리지 솔루션에 비해 인스턴스 TCO(총 소유 비용)를 줄입니다.




=== Azure Local 또는 AWS Outpost 를 선택합니다

* 혜택 *

* 검증된 솔루션에서 실행됩니다
* 온프레미스 내에 구축하여 하이브리드 또는 멀티 클라우드의 코어 역할을 할 수 있는 패키지 클라우드 솔루션입니다.
* 사용자에게 온프레미스, 클라우드 또는 하이브리드 등 모든 환경에 적합한 AWS 또는 Azure 인프라, 서비스, API 및 툴에 대한 액세스를 제공합니다.



NOTE: HCI 호환 하드웨어를 보유하고 있거나 임대/구매해야 합니다.


NOTE: Azure local은 외부 스토리지를 지원하지 않지만 AWS Outpost는 ONTAP를 지원합니다.

* Azure Local 또는 AWS Outpost로 마이그레이션해야 하는 이유 *

* HCI 호환 하드웨어가 이미 소유된 경우
* 워크로드 실행 및 데이터 스토리지 제어
* 로컬 데이터 상주 충족
* 각 서비스, 도구 및 API를 사용하여 현지 지역의 데이터를 처리합니다


* 단점 *

* 모든 옵션이 SAN, NAS 또는 독립 실행형 스토리지 구성을 지원하는 것은 아닙니다
* 스토리지 및 컴퓨팅의 독립적인 확장을 지원하지 않습니다




=== 대안 요약

요약하자면, VMware는 조직에서 사실상 하이퍼바이저로 계속 활용되고 있습니다. 그러나 모든 조직이 대체 옵션을 평가하고 있으며 ONTAP는 선택한 모든 옵션에서 역할을 수행합니다.

[cols="70%, 30%"]
|===
| * 사용 사례 * | * 권장 하이퍼바이저 * 


| 엔터프라이즈급 가상화 | VMware vSphere를 참조하십시오 


| Windows 사용량이 많은 환경 | Microsoft Hyper-V를 참조하십시오 


| Linux를 많이 사용하는 환경 및 클라우드 네이티브 워크로드 | KVM 


| SMB, 홈 랩, 하이브리드 환경 | Proxmox VE 


| Kubernetes 기반 VM 워크로드 | OpenShift 가상화 
|===
고객 환경에서 사용되는 기타 하이퍼바이저 옵션은 다음과 같습니다.

*KVM*은 일반적으로 상위 Linux 배포판마다 ONTAP에서 지원됩니다. 참조 Linux에 대해서는 IMT를 참조하십시오.

* SUSE Harvester * 는 Linux, KVM, Kubernetes, KubeVirt, Longhorn 등의 엔터프라이즈급 오픈 소스 기술을 사용하여 베어 메탈 서버를 위해 구축된 최신 하이퍼 컨버지드 인프라(HCI) 솔루션입니다. 데이터 센터와 에지에서 클라우드 네이티브 및 가상 머신(VM) 워크로드를 실행할 수 있는 유연하고 경제적인 솔루션을 원하는 사용자를 위해 설계된 Harvester는 가상화 및 클라우드 네이티브 워크로드 관리를 위한 단일 창을 제공합니다. NetApp Trident CSI 드라이버를 Harvester 클러스터에 통합하면 NetApp 스토리지 시스템에서 Harvester에서 실행되는 가상 시스템에서 사용할 수 있는 스토리지 볼륨을 저장할 수 있습니다.

* Red Hat OpenStack Platform 및 OpenStack * 은 일반적으로 놀라운 사설 클라우드 솔루션이며, NetApp 통합 드라이버가 업스트림 OpenStack 코드에 포함되어 있다는 사실은 NetApp 데이터 관리 통합이 제대로 구축되었음을 의미합니다. 즉, 설치할 필요가 없습니다! 스토리지 관리 기능은 블록 프로토콜용 NVMe, iSCSI 또는 FC, NAS용 NFS를 지원합니다. 씬 프로비저닝, 동적 스토리지 관리, 복사 오프로드 및 스냅샷이 모두 기본적으로 지원됩니다.



=== 핵심 요점

ONTAP은 온프레미스 또는 클라우드의 모든 워크로드에 적합한 플랫폼입니다. ONTAP은 사내에서 뛰어난 하이퍼바이저를 지원하며 각 클라우드에서 널리 채택되고 있습니다. 이를 통해 적절한 배포 모델을 탐색하여 라이선스 변경 사항을 쉽게 처리할 수 있습니다.



== 매우 신속한 마이그레이션



=== 교대 근무 툴킷

위에서 설명한 것처럼 VMware, Microsoft Hyper-V, Proxmox, OpenShift Virtual Environment 등의 솔루션은 가상화 요구 사항에 대한 강력하고 안정적인 선택이 되었습니다. 비즈니스 요구 사항이 동적이기 때문에 가상화 플랫폼의 선택도 적응할 수 있어야 하며 가상 시스템의 즉각적인 이동성도 중요합니다.

하이퍼바이저에서 다른 하이퍼바이저로 마이그레이션하려면 비즈니스에 복잡한 의사 결정 프로세스가 필요합니다. 주요 고려 사항에는 애플리케이션 종속성, 마이그레이션 일정, 워크로드 중요도, 애플리케이션 다운타임이 비즈니스에 미치는 영향 등이 있습니다. 하지만 ONTAP 스토리지 및 Shift 툴킷을 사용하면 아주 쉽습니다.

NetApp Shift 툴킷은 여러 하이퍼바이저 간에 가상 머신(VM)을 마이그레이션하고 가상 디스크 형식을 변환할 수 있는 사용하기 쉬운 그래픽 사용자 인터페이스(GUI) 솔루션입니다. 이 솔루션은 NetApp FlexClone ® 기술을 활용하여 VM 하드 디스크를 빠르게 변환합니다. 또한 이 툴킷은 대상 VM의 생성 및 구성을 관리합니다.

자세한 내용은 을 참조하십시오link:https://docs.netapp.com/us-en/netapp-solutions/vm-migrate/shift-toolkit-overview.html["가상화 환경 간 가상 머신(VM) 마이그레이션(Shift Toolkit)"].

image:virt-options-image3.png["Shift Toolkit의 기능 다이어그램"]

참고: Shift 툴킷의 사전 요구 사항은 ONTAP 스토리지에 상주하는 NFS 볼륨에서 VM을 실행하는 것입니다. 즉, VM이 블록 기반 ONTAP 스토리지(특히 ASA) 또는 타사 스토리지에서 호스팅되는 경우 Storage vMotion을 사용하여 VM을 지정된 ONTAP 기반 NFS 데이터 저장소로 이동해야 합니다.

이동 도구 키트는 다운로드할 수 link:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["여기"]있으며 Windows 시스템에서만 사용할 수 있습니다.



=== Cirrus Data MigrateOps를 참조하십시오

Shift의 대체 툴킷은 블록 수준 복제를 사용하는 파트너 기반 솔루션입니다. Cirrus Data는 워크로드를 기존 하이퍼바이저에서 최신 플랫폼으로 원활하게 마이그레이션하여 더욱 유연한 하이브리드 워크로드를 지원하고 현대화 노력을 가속화하고 리소스 활용률을 개선할 수 있습니다. Cirrus Migration Cloud를 MigrateOps ™ 와 함께 사용하면 안전하고 사용하기 쉽고 안정적인 솔루션을 통해 하이퍼바이저에서 다른 하이퍼바이저로 변경을 자동화할 수 있습니다.



=== 핵심 요점

VMware에서 다른 하이퍼바이저로 VM을 마이그레이션하는 방법은 여러 가지가 있습니다. Veeam, Commvault, Starwind, SCVMM 등입니다. 여기에서 목표는 가장 검증된 옵션을 소개하는 것이지만, Shift 툴킷은 가장 빠른 마이그레이션 옵션을 제공합니다. 시나리오에 따라 대체 마이그레이션 옵션을 채택할 수 있습니다.



== 샘플 배포 모델:

고객은 Windows 및 Linux 워크로드가 혼합된 10000개의 VM을 보유하고 있습니다. 라이센싱 비용을 최적화하고 가상화 인프라의 미래를 단순화하기 위해서는 멀티 하이퍼바이저 및 VM 배치 전략이 중요했습니다. 이 고객은 워크로드 중요도, 성능 요구사항, 하이퍼바이저 기능 및 라이센스 비용을 기준으로 VM 전략을 선택했습니다.

Tier 0 VM은 VMware(VM 1000대)에 보존되고, 그 다음으로 Tier 1/Tier 2가 Hyper-V로 이동(VM 5000대)합니다. 나머지 4000개의 VM이 OpenShift 가상화(주로 Linux 기반 VM)로 이동되었습니다. 이러한 하이브리드 VM 배치로 제어, 프로세스, 툴, 기능을 유지하면서 비용을 제어할 수 있었습니다.

위의 예는 하나 이지만 각 응용 프로그램 수준에서 환경을 최적화하기 위해 적용할 수 있는 다양한 순열 및 조합이 있습니다.



== 결론

Broadcom의 인수로 인해 VMware 고객들은 복잡한 통합, 성능 최적화 및 비용 관리 환경에 직면하고 있습니다. NetApp는 이러한 문제를 해결할 수 있는 강력한 도구 및 기능을 제공하여 향상된 가시성, 원활한 통합, 비용 효율성 및 강력한 보안을 제공합니다. 이러한 기능을 사용하여 VMware를 계속 사용하면서 Broadcom의 변혁이 일어났을 때 생존하고 번창할 수 있도록 최적화하며 향후 발생할 수 있는 다른 예상치 못한 문제에 대비하십시오.

대체 하이퍼바이저 플랫폼으로 전환하는 것이 바람직하다면 가상화 요구 사항에 대해 VMware에 대한 여러 가지 강력한 대안을 고려해야 합니다. Hyper-V, Proxmox 및 KVM은 각각 고유한 이점을 제공합니다. 최적의 구성을 결정하려면 예산, 기존 인프라, 성능 요구사항, 지원 요구사항과 같은 요소를 평가합니다. 어떤 하이퍼바이저 플랫폼을 선택하든 ONTAP은 이상적인 스토리지입니다.
