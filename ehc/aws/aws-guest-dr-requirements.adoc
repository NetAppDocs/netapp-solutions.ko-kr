---
sidebar: sidebar 
permalink: ehc/aws/aws-guest-dr-requirements.html 
keywords: adminstrative, ESXi hosts, VMware vCenter, nsx, MS SQL, oracle, Veeam, cloud, aws, Amazon FSx, vmc 
summary: 이 섹션에서는 온-프레미스 리소스, VMware Cloud 및 Amazon FSx ONTAP에 액세스하고 구성하는 데 필요한 요구 사항에 대해 자세히 설명합니다. 
---
= 요구 사항
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../../media/


link:aws-guest-dr-overview.html["이전: 개요 - AWS 게스트 연결 스토리지 재해 복구"]

이 섹션에서는 온-프레미스 리소스, VMware Cloud 및 Amazon FSx ONTAP에 액세스하고 구성하는 데 필요한 요구 사항에 대해 자세히 설명합니다.



== 기술 및 지식

Cloud Volumes Service for AWS에 액세스하려면 다음 기술 및 정보가 필요합니다.

* VMware 및 ONTAP 사내 환경에 대한 액세스 및 지식
* VMware Cloud 및 AWS에 대한 지식 및 액세스
* AWS 및 Amazon FSx ONTAP에 대한 액세스 및 지식
* SDDC 및 AWS 리소스에 대한 지식
* 온프레미스 리소스와 클라우드 리소스 간의 네트워크 연결에 대한 지식
* 재해 복구 시나리오에 대한 작업 지식
* VMware에 구축된 애플리케이션에 대한 작업 지식




== 관리

온프레미스 또는 클라우드에서 리소스와 상호 작용하든, 사용자와 관리자는 자신의 권한에 따라 필요할 때 필요한 리소스를 프로비저닝할 수 있는 기능과 권한을 가지고 있어야 합니다. 성공적인 하이브리드 클라우드 구축을 위해서는 ONTAP, VMware를 비롯한 온프레미스 시스템과 VMware 클라우드 및 AWS를 포함한 클라우드 리소스에 대한 역할 및 사용 권한의 상호 작용이 무엇보다 중요합니다.

VMware 및 ONTAP On-Premises와 VMware Cloud on AWS 및 FSx ONTAP를 사용하여 DR 솔루션을 구성하려면 다음 관리 작업이 필요합니다.

* 다음을 프로비저닝할 수 있는 역할 및 계정:
+
** ONTAP 스토리지 리소스
** VMware VM, 데이터 저장소 등
** AWS VPC 및 보안 그룹


* 사내 VMware 환경 및 ONTAP 프로비저닝
* VMware 클라우드 환경
* ONTAP 파일 시스템용 FSx에 대한 Amazon
* 사내 환경과 AWS 간의 연결
* AWS VPC 연결




== 온프레미스

VMware 가상 환경에는 다음 그림과 같이 ESXi 호스트, VMware vCenter Server, NSX 네트워킹 및 기타 구성 요소의 라이센스가 포함됩니다. 모든 구성 요소는 서로 다른 방식으로 라이센스가 부여되므로 기본 구성 요소가 사용 가능한 라이센스 용량을 어떻게 소비하는지 이해하는 것이 중요합니다.

image:dr-vmc-aws-image2.png["오류: 그래픽 이미지 누락, 100,100"]



=== ESXi 호스트

VMware 환경의 컴퓨팅 호스트는 ESXi와 함께 구축됩니다. 다양한 용량 계층에서 vSphere로 라이센스를 부여하면 가상 머신은 각 호스트의 물리적 CPU와 해당 기능을 활용할 수 있습니다.



=== VMware vCenter를 참조하십시오

ESXi 호스트 및 스토리지 관리는 vCenter Server를 사용하는 VMware 관리자가 사용할 수 있는 다양한 기능 중 하나입니다. VMware vCenter 7.0부터 VMware vCenter의 세 가지 에디션을 사용할 수 있습니다.

* vCenter Server Essentials 를 참조하십시오
* vCenter Server Foundation을 참조하십시오
* vCenter Server Standard를 참조하십시오




=== VMware NSX

VMware NSX는 관리자에게 고급 기능을 활성화하는 데 필요한 유연성을 제공합니다. 기능은 라이센스가 부여된 NSX-T Edition 버전에 따라 활성화됩니다.

* 전문가입니다
* 고급
* 엔터프라이즈급 플러스
* 원격 사무소/지사




=== NetApp ONTAP를 참조하십시오

NetApp ONTAP 라이센싱은 관리자가 NetApp 스토리지 내의 다양한 기능에 액세스하는 방법을 나타냅니다. 라이센스는 하나 이상의 소프트웨어 사용 권한의 기록입니다. 라이센스 코드라고도 하는 라이센스 키를 설치하면 스토리지 시스템에서 특정 기능 또는 서비스를 사용할 수 있습니다. 예를 들어, ONTAP는 모든 주요 업계 표준 클라이언트 프로토콜(NFS, SMB, FC, FCoE, iSCSI, NVMe/FC) 라이센스를 통해 제공됩니다.

Data ONTAP 기능 라이센스는 여러 기능 또는 단일 기능을 포함하는 패키지로 발급됩니다. 패키지에는 라이센스 키가 필요하며, 키를 설치하면 패키지의 모든 기능에 액세스할 수 있습니다.

라이센스 유형은 다음과 같습니다.

* * 노드 잠김 라이센스. * 노드 잠김 라이센스를 설치하면 노드에 라이센스가 부여된 기능이 부여됩니다. 클러스터에 라이센스가 부여된 기능을 사용하려면 해당 기능에 대해 하나 이상의 노드에 라이센스가 있어야 합니다.
* * 마스터/사이트 라이센스. * 마스터 또는 사이트 라이센스는 특정 시스템 일련 번호에 연결되지 않습니다. 사이트 라이센스를 설치하면 클러스터의 모든 노드에 라이센스가 부여된 기능이 부여됩니다.
* * 데모/임시 사용권. * 데모 또는 임시 사용권은 일정 시간이 지나면 만료됩니다. 이 라이센스를 사용하면 사용 권한을 구입하지 않고도 특정 소프트웨어 기능을 사용할 수 있습니다.
* * 용량 라이센스(ONTAP Select 및 FabricPool에만 해당). * ONTAP Select 인스턴스는 사용자가 관리하려는 데이터 양에 따라 라이센스가 부여됩니다. ONTAP 9.4부터 FabricPool를 사용하려면 타사 스토리지 계층(예: AWS)과 함께 용량 라이센스를 사용해야 합니다.




=== NetApp SnapCenter를 참조하십시오

SnapCenter에서는 데이터 보호 작업을 위해 여러 개의 라이센스가 필요합니다. 설치하는 SnapCenter 라이센스 유형은 스토리지 환경과 사용하려는 기능에 따라 다릅니다. SnapCenter Standard 라이센스는 애플리케이션, 데이터베이스, 파일 시스템 및 가상 머신을 보호합니다. SnapCenter에 스토리지 시스템을 추가하기 전에 하나 이상의 SnapCenter 라이센스를 설치해야 합니다.

애플리케이션, 데이터베이스, 파일 시스템 및 가상 머신을 보호하려면 FAS 또는 AFF 스토리지 시스템에 표준 컨트롤러 기반 라이센스가 설치되어 있거나 ONTAP Select 및 Cloud Volumes ONTAP 플랫폼에 표준 용량 기반 라이센스가 설치되어 있어야 합니다.

이 솔루션에 대한 다음 SnapCenter 백업 사전 요구 사항을 참조하십시오.

* 백업된 데이터베이스 및 구성 파일을 찾기 위해 사내 ONTAP 시스템에서 생성된 볼륨 및 SMB 공유입니다.
* 사내 ONTAP 시스템과 AWS 계정의 FSx 또는 CVO 간 SnapMirror 관계 백업된 SnapCenter 데이터베이스 및 구성 파일이 포함된 스냅샷을 전송하는 데 사용됩니다.
* EC2 인스턴스 또는 VMware Cloud SDDC의 VM에 클라우드 계정에 설치된 Windows Server
* VMware 클라우드의 Windows EC2 인스턴스 또는 VM에 설치된 SnapCenter




=== MS SQL

이 솔루션 검증의 일부로 MS SQL을 사용하여 재해 복구를 시연합니다.

MS SQL 및 NetApp ONTAP의 모범 사례에 대한 자세한 내용은 다음 웹 사이트를 참조하십시오 https://www.netapp.com/media/8585-tr4590.pdf["이 링크"^].



=== 오라클

이 솔루션 검증의 일환으로, NetApp은 Oracle을 사용하여 재해 복구를 시연합니다. Oracle 및 NetApp ONTAP 모범 사례에 대한 자세한 내용은 다음 웹 사이트를 참조하십시오 https://www.netapp.com/media/8744-tr3633.pdf["이 링크"^].



=== Veeam을 선택합니다

이 솔루션 검증의 일부로 Veeam을 사용하여 재해 복구를 시연합니다. Veeam 및 NetApp ONTAP의 모범 사례에 대한 자세한 내용은 를 참조하십시오 https://www.veeam.com/wp-netapp-configuration-best-practices-guide.html["이 링크"^].



== 클라우드



=== 설치하고

다음 작업을 수행할 수 있어야 합니다.

* 도메인 서비스 배포 및 구성
* 특정 VPC에 애플리케이션 요구 사항당 FSx ONTAP를 구축합니다.
* FSx ONTAP의 트래픽을 허용하도록 AWS 컴퓨팅 게이트웨이에서 VMware 클라우드를 구성합니다.
* AWS 서브넷의 VMware Cloud와 FSx ONTAP 서비스가 구축된 AWS VPC 서브넷 간의 통신을 허용하도록 AWS 보안 그룹을 구성합니다.




=== VMware 클라우드

다음 작업을 수행할 수 있어야 합니다.

* AWS SDDC에서 VMware Cloud를 구성합니다.




=== Cloud Manager 계정 검증

NetApp Cloud Manager로 리소스를 구축할 수 있어야 합니다. 다음 작업을 완료할 수 있는지 확인합니다.

* https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-signing-up.html["Cloud Central에 가입하십시오"^] 아직 없는 경우
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-logging-in.html["Cloud Manager에 로그인합니다"^].
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-setting-up-netapp-accounts.html["작업 영역 및 사용자를 설정합니다"^].
* https://docs.netapp.com/us-en/cloud-manager-setup-admin/concept-connectors.html["커넥터를 작성합니다"^].




=== NetApp ONTAP용 Amazon FSx

AWS 계정이 있는 후에는 다음 작업을 수행할 수 있어야 합니다.

* NetApp ONTAP 파일 시스템에 Amazon FSx를 프로비저닝할 수 있는 IAM 관리 사용자를 생성합니다.




== 구성 사전 요구 사항

고객이 사용하는 다양한 토폴로지를 고려할 때 이 섹션에서는 사내에서 클라우드 리소스로의 통신을 지원하는 데 필요한 포트를 중점적으로 다룹니다.



=== 필수 포트 및 방화벽 고려 사항

다음 표에는 인프라 전체에서 사용해야 하는 포트가 설명되어 있습니다.

Veeam Backup & Replication 소프트웨어에 필요한 포트의 전체 목록을 보려면 다음 단계를 따르십시오 https://helpcenter.veeam.com/docs/backup/vsphere/used_ports.html?zoom_highlight=port+requirements&ver=110["이 링크"^].

SnapCenter의 포트 요구 사항에 대한 보다 포괄적인 목록은 을 참조하십시오 https://docs.netapp.com/ocsc-41/index.jsp?topic=%2Fcom.netapp.doc.ocsc-isg%2FGUID-6B5E4464-FE9A-4D2A-B526-E6F4298C9550.html["이 링크"^].

다음 표에는 Microsoft Windows Server에 대한 Veeam 포트 요구사항이 나와 있습니다.

|===
| 보낸 사람 | 를 선택합니다 | 프로토콜 | 포트 | 참고 


| 백업 서버 | Microsoft Windows 서버 | TCP | 445 | Veeam Backup & Replication 구성 요소를 구축하는 데 필요한 포트입니다. 


| 백업 프록시 |  | TCP | 6160 | Veeam Installer Service에서 사용되는 기본 포트입니다. 


| 백업 저장소 |  | TCP | 2500에서 3500까지 | 데이터 전송 채널 및 로그 파일 수집에 사용되는 기본 포트 범위 


| 서버를 마운트합니다 |  | TCP | 6162 | Veeam Data Mover에서 사용되는 기본 포트입니다. 
|===

NOTE: 작업에서 사용하는 모든 TCP 연결에 대해 이 범위의 포트 하나가 할당됩니다.

다음 표에는 Linux Server의 Veeam 포트 요구사항이 나와 있습니다.

|===
| 보낸 사람 | 를 선택합니다 | 프로토콜 | 포트 | 참고 


| 백업 서버 | Linux 서버 | TCP | 22 | 콘솔에서 대상 Linux 호스트로 제어 채널로 사용되는 포트입니다. 


|  |  | TCP | 6162 | Veeam Data Mover에서 사용되는 기본 포트입니다. 


|  |  | TCP | 2500에서 3500까지 | 데이터 전송 채널 및 로그 파일 수집에 사용되는 기본 포트 범위 
|===

NOTE: 작업에서 사용하는 모든 TCP 연결에 대해 이 범위의 포트 하나가 할당됩니다.

다음 표에는 Veeam Backup Server 포트 요구사항이 나와 있습니다.

|===
| 보낸 사람 | 를 선택합니다 | 프로토콜 | 포트 | 참고 


| 백업 서버 | vCenter Server를 선택합니다 | HTTPS, TCP | 443 | vCenter Server에 연결하는 데 사용되는 기본 포트입니다. 콘솔에서 대상 Linux 호스트로 제어 채널로 사용되는 포트입니다. 


|  | Veeam Backup & Replication 구성 데이터베이스를 호스팅하는 Microsoft SQL Server | TCP | 1443 | Veeam Backup & Replication 구성 데이터베이스가 구축된 Microsoft SQL Server와의 통신에 사용되는 포트입니다(Microsoft SQL Server 기본 인스턴스를 사용하는 경우). 


|  | 모든 백업 서버의 이름 확인이 있는 DNS 서버 | TCP | 3389 | DNS 서버와 통신하는 데 사용되는 포트입니다 
|===

NOTE: vCloud Director를 사용하는 경우 기본 vCenter Server에서 포트 443을 열어야 합니다.

다음 표에는 Veeam Backup Proxy 포트 요구 사항이 나와 있습니다.

|===
| 보낸 사람 | 를 선택합니다 | 프로토콜 | 포트 | 참고 


| 백업 서버 | 백업 프록시 | TCP | 6210 | SMB 파일 공유 백업 중에 VSS 스냅샷을 생성하기 위해 Veeam Backup VSS Integration Service에서 사용하는 기본 포트입니다. 


| 백업 프록시 | vCenter Server를 선택합니다 | TCP | 1443 | vCenter 설정에서 사용자 지정할 수 있는 기본 VMware 웹 서비스 포트입니다. 
|===
다음 표에는 SnapCenter 포트 요구 사항이 나와 있습니다.

|===
| 포트 유형 | 프로토콜 | 포트 | 참고 


| SnapCenter 관리 포트 | HTTPS | 8146 | 이 포트는 SnapCenter 클라이언트(SnapCenter 사용자)와 SnapCenter 서버 간의 통신에 사용됩니다. 플러그인 호스트에서 SnapCenter 서버로의 통신에도 사용됩니다. 


| SnapCenter SMCore 통신 포트입니다 | HTTPS | 8043 | 이 포트는 SnapCenter 서버와 SnapCenter 플러그인이 설치된 호스트 간의 통신에 사용됩니다. 


| Windows 플러그인 호스트, 설치 | TCP | 135, 445 | 이러한 포트는 SnapCenter 서버와 플러그인이 설치되는 호스트 간의 통신에 사용됩니다. 설치 후 포트를 닫을 수 있습니다. 또한 Windows Instrumentation Services는 열려 있어야 하는 49152 ~ 65535 포트를 검색합니다. 


| Linux 플러그인 호스트, 설치 | SSH를 클릭합니다 | 22 | 이러한 포트는 SnapCenter 서버와 플러그인이 설치되는 호스트 간의 통신에 사용됩니다. 이 포트는 SnapCenter에서 플러그인 패키지 바이너리를 Linux 플러그인 호스트에 복사하는 데 사용됩니다. 


| Windows/Linux용 SnapCenter 플러그인 패키지 | HTTPS | 8145 | 이 포트는 SnapCenter 플러그인이 설치된 SMCore와 호스트 간의 통신에 사용됩니다. 


| VMware vSphere vCenter Server 포트입니다 | HTTPS | 443 | 이 포트는 VMware vSphere용 SnapCenter 플러그인과 vCenter Server 간의 통신에 사용됩니다. 


| VMware vSphere 포트용 SnapCenter 플러그인 | HTTPS | 8144 | 이 포트는 vCenter vSphere 웹 클라이언트 및 SnapCenter 서버로부터 통신하는 데 사용됩니다. 
|===
link:aws-guest-dr-networking.html["다음: 네트워킹."]
