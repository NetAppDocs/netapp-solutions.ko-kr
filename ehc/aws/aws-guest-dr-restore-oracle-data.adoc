---
sidebar: sidebar 
permalink: ehc/aws/aws-guest-dr-restore-oracle-data.html 
keywords: Oracle application data, VMware Cloud Services, aws, mount NFS volumes, Oracle Server 
summary: 다음 프로세스에서는 사내 사이트가 작동 불가능한 재해 발생 시 AWS의 VMware Cloud Services에서 Oracle 애플리케이션 데이터를 복구하는 방법에 대한 지침을 제공합니다. 
---
= Oracle 애플리케이션 데이터를 복구합니다
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../../media/


link:aws-guest-dr-restore-sql-data.html["이전: SQL Server 응용 프로그램 데이터를 복원합니다."]

다음 프로세스에서는 사내 사이트가 작동 불가능한 재해 발생 시 AWS의 VMware Cloud Services에서 Oracle 애플리케이션 데이터를 복구하는 방법에 대한 지침을 제공합니다.

복구 단계를 계속하려면 다음 필수 구성 요소를 완료하십시오.

. Veeam Full Restore를 사용하여 Oracle Linux 서버 VM을 VMware Cloud SDDC로 복구했습니다.
. 보조 SnapCenter 서버가 설정되었으며 이 섹션에 설명된 단계를 사용하여 SnapCenter 데이터베이스 및 구성 파일이 복원되었습니다 link:aws-guest-dr-snapcenter-db-backup.html#snapcenter-backup-and-restore-process-summary["SnapCenter 백업 및 복원 프로세스 요약"]


Oracle 애플리케이션 데이터 복구 프로세스에 대한 요약은 다음과 같습니다.

. 복원 프로세스를 준비하기 위해 VM을 구성합니다.
. iSCSI 액세스를 위해 FSx를 설정합니다.
. NFS 액세스를 위해 Linux VM을 설정합니다.
. SQL Server 데이터베이스를 연결하여 온라인으로 전환합니다.
. SnapCenter와 SnapCenter SQL Server 플러그인 간의 통신을 확인합니다.


Oracle Server 페일오버 프로세스에 대한 요약은 다음과 같습니다.

. Veeam을 사용하여 Oracle VM을 VMware Cloud로 복구합니다.
. 복원 프로세스 준비 시 VM 정리:
+
.. 필요에 따라 IP 주소를 변경합니다.
.. 원래 시스템과 동일한 FQDN을 사용하여 시스템을 DNS에 추가합니다.


. NFS 액세스를 위해 FSx를 설정합니다.
. Oracle Linux Server에서 NFS 볼륨을 마운트합니다.




== Oracle 복원을 위해 FSx 구성 - SnapMirror 관계를 끊습니다

FSxN 인스턴스에서 호스팅되는 보조 스토리지 볼륨을 Oracle 서버에서 액세스할 수 있도록 하려면 먼저 기존 SnapMirror 관계를 해제해야 합니다.

. FSx CLI에 로그인한 후 다음 명령을 실행하여 올바른 이름으로 필터링된 볼륨을 확인합니다.
+
....
FSx-Dest::> volume show -volume VolumeName*
....
+
image:dr-vmc-aws-image77.png["오류: 그래픽 이미지가 없습니다"]

. 다음 명령을 실행하여 기존 SnapMirror 관계를 중단하십시오.
+
....
FSx-Dest::> snapmirror break -destination-path DestSVM:DestVolName
....
+
image:dr-vmc-aws-image78.png["오류: 그래픽 이미지가 없습니다"]

. Amazon FSx 웹 클라이언트에서 junction-path를 업데이트합니다.
+
image:dr-vmc-aws-image79.png["오류: 그래픽 이미지가 없습니다"]

. 접합 경로 이름을 추가하고 업데이트 를 클릭합니다. Oracle 서버에서 NFS 볼륨을 마운트할 때 이 연결 경로를 지정합니다.
+
image:dr-vmc-aws-image80.png["오류: 그래픽 이미지가 없습니다"]





== Oracle Server에서 NFS 볼륨을 마운트합니다

Cloud Manager에서 Oracle 데이터베이스 파일 및 로그가 포함된 NFS 볼륨을 마운트하기 위한 올바른 NFS LIF IP 주소를 사용하여 마운트 명령을 얻을 수 있습니다.

. Cloud Manager에서 FSx 클러스터의 볼륨 목록에 액세스합니다.
+
image:dr-vmc-aws-image81.png["오류: 그래픽 이미지가 없습니다"]

. 작업 메뉴에서 마운트 명령을 선택하여 Oracle Linux 서버에서 사용할 마운트 명령을 보고 복사합니다.
+
image:dr-vmc-aws-image82.png["오류: 그래픽 이미지가 없습니다"]

+
image:dr-vmc-aws-image83.png["오류: 그래픽 이미지가 없습니다"]

. Oracle Linux Server에 NFS 파일 시스템을 마운트합니다. NFS 공유를 마운트하는 디렉토리가 Oracle Linux 호스트에 이미 있습니다.
. Oracle Linux 서버에서 mount 명령을 사용하여 NFS 볼륨을 마운트합니다.
+
....
FSx-Dest::> mount -t oracle_server_ip:/junction-path
....
+
Oracle 데이터베이스와 연결된 각 볼륨에 대해 이 단계를 반복합니다.

+

NOTE: 재부팅 시 NFS 마운트를 영구적으로 만들려면 '/etc/fstab' 파일을 편집하여 마운트 명령을 포함합니다.

. Oracle 서버를 재부팅합니다. Oracle 데이터베이스는 정상적으로 시작되어 사용할 수 있어야 합니다.


link:aws-guest-dr-failback.html["다음: 페일백"]
