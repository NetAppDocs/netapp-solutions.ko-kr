---
sidebar: sidebar 
permalink: containers/rh-os-n_openshift_OSP.html 
keywords: OpenShift, OpenStack, private cloud 
summary: Red Hat OpenStack Platform은 안전하고 안정적인 프라이빗 OpenStack 클라우드를 생성, 배포 및 확장할 수 있는 통합 기반을 제공합니다. 
---
= Red Hat OpenStack Platform의 OpenShift
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


Red Hat OpenStack Platform은 안전하고 안정적인 프라이빗 OpenStack 클라우드를 생성, 배포 및 확장할 수 있는 통합 기반을 제공합니다.

OSP는 컴퓨팅, 스토리지 및 네트워킹 리소스를 관리하는 제어 서비스 모음을 통해 구현된 서비스형 인프라(IaaS) 클라우드입니다. 이 환경은 관리자와 사용자가 OpenStack 리소스를 제어, 프로비저닝 및 자동화할 수 있는 웹 기반 인터페이스를 통해 관리됩니다. 또한, OpenStack 인프라는 광범위한 명령줄 인터페이스와 API를 통해 관리자 및 최종 사용자를 위한 전체 자동화 기능을 지원합니다.

OpenStack 프로젝트는 6개월마다 업데이트된 릴리즈를 제공하는, 빠르게 개발된 커뮤니티 프로젝트입니다. 초기 Red Hat OpenStack Platform은 모든 업스트림 릴리스와 함께 새 릴리스를 게시하고 모든 3차 릴리스에 대한 장기적인 지원을 제공함으로써 이 릴리스 주기를 따라가고 있습니다. 최근, OSP 16.0 릴리스(OpenStack Train 기반)를 통해 Red Hat은 릴리즈 번호를 따라가지 않고 새로운 기능을 하위 릴리즈로 백포팅했습니다. 최신 릴리즈는 Red Hat OpenStack Platform 16.1로, Ussuri 및 Victoria의 업스트림 릴리스에서 지원되는 고급 기능을 포함합니다.

OSP에 대한 자세한 내용은 를 참조하십시오 https://www.redhat.com/en/technologies/linux-platforms/openstack-platform["Red Hat OpenStack Platform 웹 사이트"^].



== OpenStack 서비스

OpenStack 플랫폼 서비스는 컨테이너로 구축되며, 상호 서비스를 격리하고 간편하게 업그레이드할 수 있습니다. OpenStack 플랫폼은 Kolla로 구축 및 관리되는 컨테이너 세트를 사용합니다. 서비스 배포는 Red Hat Custom Portal에서 컨테이너 이미지를 가져와 수행합니다. 이러한 서비스 컨테이너는 Podman 명령을 사용하여 관리되며 Red Hat OpenStack Director를 통해 배포, 구성 및 관리됩니다.

image:redhat_openshift_image34.png["오류: 그래픽 이미지가 없습니다"]

|===


| 서비스 | 프로젝트 이름 | 설명 


| 대시보드 | 수평선 | OpenStack 서비스를 관리하는 데 사용하는 웹 브라우저 기반 대시보드 


| 아이덴티티 | 키스톤 | OpenStack 서비스의 인증 및 권한 부여와 사용자, 프로젝트, 역할 관리를 위한 중앙 집중식 서비스 


| OpenStack 네트워킹 | 중성자 | OpenStack 서비스의 인터페이스 간 연결을 제공합니다. 


| 블록 스토리지 | 신더 | 가상 머신(VM)에 대한 영구 블록 스토리지 볼륨을 관리합니다. 


| 컴퓨팅 | 노바 | 컴퓨팅 노드에서 실행 중인 VM을 관리하고 프로비저닝합니다. 


| 이미지 | 살펴보기 | VM 이미지 및 볼륨 스냅샷과 같은 리소스를 저장하는 데 사용되는 레지스트리 서비스입니다. 


| 오브젝트 스토리지 | 스위프트 | 사용자가 파일과 임의 데이터를 저장 및 검색할 수 있습니다. 


| 원격 측정 | Ceilometer를 참조하십시오 | 클라우드 리소스의 사용량을 측정합니다. 


| 오케스트레이션 | 열 | 리소스 스택의 자동 생성을 지원하는 템플릿 기반 오케스트레이션 엔진입니다. 
|===


== 네트워크 설계

NetApp OpenShift with NetApp 솔루션은 두 개의 데이터 스위치를 사용하여 25Gbps의 기본 데이터 연결을 제공합니다. 또한 스토리지 노드의 대역 내 관리를 위해 1Gbps에서 연결을 제공하는 두 개의 추가 관리 스위치와 IPMI 기능의 대역 외 관리를 사용합니다.

IPMI 기능은 Red Hat OpenStack Director에서 아이러닉 베어 메탈 프로비저닝 서비스를 사용하여 Red Hat OpenStack Platform을 배포하는 데 필요합니다.



=== VLAN 요구 사항

NetApp의 Red Hat OpenShift는 가상 VLAN(Local Area Network)을 사용하여 네트워크 트래픽을 논리적으로 다른 용도로 분리할 수 있도록 설계되었습니다. 이 구성은 고객의 요구에 맞게 확장하거나 특정 네트워크 서비스에 대한 추가 격리를 제공할 수 있습니다. 다음 표에는 NetApp 솔루션의 유효성을 검사하는 동안 솔루션을 구현하는 데 필요한 VLAN이 나와 있습니다.

|===
| VLAN | 목적 | VLAN ID입니다 


| 대역외 관리 네트워크 | 물리적 노드 관리 및 아론용 IPMI 서비스에 사용되는 네트워크. | 16 


| 향상시킵니다 | 컨트롤러 노드에서 볼륨을 직접 매핑하여 Swift와 같은 인프라 서비스를 지원하는 데 사용되는 네트워크입니다. | 201 


| 스토리지 Cinder | 블록 볼륨을 매핑하고 환경에 구축된 가상 인스턴스에 직접 연결하는 데 사용되는 네트워크입니다. | 202 


| 내부 API | API 통신, RPC 메시지 및 데이터베이스 통신을 사용하여 OpenStack 서비스 간의 통신에 사용되는 네트워크. | 301 


| 테넌트 | Neutron은 VXLAN을 통한 터널링을 통해 각 테넌트에 자체 네트워크를 제공합니다. 네트워크 트래픽은 각 테넌트 네트워크 내에서 격리됩니다. 각 테넌트 네트워크에는 연결된 IP 서브넷이 있으며, 네트워크 네임스페이스는 여러 테넌트 네트워크에서 충돌을 일으키지 않고 동일한 주소 범위를 사용할 수 있음을 의미합니다. | 302)를 참조하십시오 


| 스토리지 관리 | OpenStack Object Storage(Swift)는 이 네트워크를 사용하여 참여하는 복제본 노드 간에 데이터 객체를 동기화합니다. 프록시 서비스는 사용자 요청과 기본 스토리지 계층 간의 중간 인터페이스 역할을 합니다. 프록시는 들어오는 요청을 수신하고 요청된 데이터를 검색하는 데 필요한 복제본을 찾습니다. | 303 


| PXE 를 참조하십시오 | OpenStack Director는 OSP Overcloud 설치를 조율하기 위해 아이러니한 베어 메탈 프로비저닝 서비스의 일부로 PXE 부팅을 제공합니다. | 3484 


| 외부 | 공개적으로 제공되는 네트워크로, 그래픽 관리용 OpenStack Dashboard(Horizon)를 호스팅하고 퍼블릭 API를 사용하여 OpenStack 서비스를 관리할 수 있습니다. | 3485 


| 대역내 관리 네트워크 | SSH 액세스, DNS 트래픽 및 NTP(Network Time Protocol) 트래픽과 같은 시스템 관리 기능에 대한 액세스를 제공합니다. 이 네트워크는 컨트롤러 노드가 아닌 노드의 게이트웨이 역할도 합니다. | 3486 
|===


=== 네트워크 인프라 지원 리소스

OpenShift Container Platform을 배포하기 전에 다음 인프라를 구축해야 합니다.

* 전체 호스트 이름 확인을 제공하는 DNS 서버가 하나 이상 있어야 합니다.
* 솔루션의 서버에 대해 시간을 동기화할 수 있는 NTP 서버가 3개 이상 있습니다.
* (선택 사항) OpenShift 환경을 위한 아웃바운드 인터넷 연결




== 운영 구축 모범 사례

이 섹션에는 이 솔루션을 운영 환경에 구축하기 전에 고려해야 하는 몇 가지 모범 사례가 나와 있습니다.



=== 최소 3개의 컴퓨팅 노드를 포함하는 OSP 프라이빗 클라우드에 OpenShift를 배포합니다

이 문서에 설명된 검증된 아키텍처는 OSP 컨트롤러 노드 3개와 OSP 컴퓨팅 노드 2개를 구축하여 HA 운영에 적합한 최소 하드웨어 구축을 보여줍니다. 이 아키텍처는 두 컴퓨팅 노드가 가상 인스턴스를 시작하고 구축된 VM이 두 하이퍼바이저 간에 마이그레이션할 수 있는 내결함성 구성을 보장합니다.

Red Hat OpenShift는 처음에 3개의 마스터 노드와 함께 배포되기 때문에 2노드 구성으로 인해 같은 노드를 차지하는 마스터가 2개 이상 생길 수 있으며, 이로 인해 특정 노드를 사용할 수 없게 되면 OpenShift에 장애가 발생할 수 있습니다. 따라서 OpenShift 마스터를 균등하게 배포하고 솔루션에서 추가적인 내결함성을 얻을 수 있도록 최소 3개의 OSP 컴퓨팅 노드를 구축하는 것이 Red Hat의 모범 사례입니다.



=== 가상 머신/호스트 선호도를 구성합니다

VM/호스트 선호도를 활성화하여 여러 하이퍼바이저 노드에 OpenShift 마스터를 분산시킬 수 있습니다.

유사성은 VM 및/또는 호스트 세트에 대한 규칙을 정의하는 방법으로, VM이 그룹의 동일한 호스트 또는 호스트에서 함께 실행되는지 아니면 다른 호스트에서 실행되는지를 결정합니다. VM 및/또는 동일한 매개 변수와 조건 집합을 가진 호스트로 구성된 선호도 그룹을 생성하여 VM에 적용됩니다. 선호도 그룹의 VM이 그룹의 동일한 호스트에서 실행되는지, 아니면 다른 호스트에서 개별적으로 실행되는지에 따라 선호도 그룹의 매개 변수는 양의 선호도 또는 음의 선호도를 정의할 수 있습니다. Red Hat OpenStack Platform에서는 서버 그룹을 생성하고 필터를 구성하여 호스트 친화성 및 반유사성 규칙을 생성하고 적용할 수 있으므로 서버 그룹의 Nova에서 구축한 인스턴스가 서로 다른 컴퓨팅 노드에 배포됩니다.

서버 그룹에는 배치를 관리할 수 있는 최대 10개의 가상 인스턴스가 기본적으로 있습니다. Nova에 대한 기본 할당량을 업데이트하여 이 할당량을 수정할 수 있습니다.


NOTE: OSP 서버 그룹에 대해 특정 하드 선호도/반선호도 제한이 있습니다. 별도의 노드에 구축할 리소스가 충분하지 않거나 노드 공유를 허용하는 리소스가 충분하지 않으면 VM이 부팅되지 않습니다.

선호도 그룹을 구성하려면 을 참조하십시오 https://access.redhat.com/solutions/1977943["OpenStack 인스턴스에 대해 선호도 및 반유사성을 구성하려면 어떻게 합니까?"^].



=== OpenShift 배포에 사용자 지정 설치 파일을 사용합니다

IPI를 사용하면 이 문서 앞부분에서 설명한 대화형 마법사를 통해 OpenShift 클러스터를 쉽게 배포할 수 있습니다. 그러나 클러스터 배포의 일부로 일부 기본값을 변경해야 할 수도 있습니다.

이 경우 클러스터를 즉시 배포하지 않고 wizardarder를 실행하고 작업을 수행할 수 있습니다. 대신 나중에 클러스터를 배포할 수 있는 구성 파일이 생성됩니다. IPI 기본값을 변경해야 하거나 다중 테넌시와 같은 다른 용도로 환경에 여러 동일한 클러스터를 배포하려는 경우 매우 유용합니다. OpenShift에 대한 사용자 지정 설치 구성을 만드는 방법에 대한 자세한 내용은 을 참조하십시오 https://docs.openshift.com/container-platform/4.7/installing/installing_openstack/installing-openstack-installer-custom.html["Red Hat OpenShift 사용자 지정을 통해 OpenStack에 클러스터 설치"^].

link:rh-os-n_overview_netapp.html["다음은 NetApp 스토리지 개요입니다."]
