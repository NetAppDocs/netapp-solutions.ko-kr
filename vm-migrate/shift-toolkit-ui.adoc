---
sidebar: sidebar 
permalink: vm-migrate/shift-toolkit-ui.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= Shift 툴킷 GUI 설정 및 사용
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
이 섹션에서는 사용자 인터페이스를 통해 Shift Toolkit을 설정하고 실행하는 방법에 대해 자세히 설명합니다.



== Shift 툴킷을 실행합니다

* 브라우저를 사용하여 설치 중에 지정된 주소 >:3001"을 입력하여 Shift 툴킷 UI에 액세스"http://<IP[]
+

NOTE: 최상의 환경을 위해 Google Chrome 또는 Internet Explorer를 사용하십시오.

* 아래와 같이 기본 자격 증명을 사용하여 UI에 액세스합니다.
+
사용자 이름: admin

+
암호: admin




NOTE: 관리자 자격 증명은 "암호 변경" 옵션을 사용하여 변경할 수 있습니다.

image:shift-toolkit-image18.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

"동의하고 계속"을 클릭하여 법적 EULA에 동의합니다.

image:shift-toolkit-image19.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]



== 시프트 툴킷 구성

소스 하이퍼바이저와 대상 하이퍼바이저 모두에 대한 스토리지 및 연결이 올바르게 구성되면 FlexClone 기능을 활용하여 가상 머신 VMDK를 적절한 형식으로 마이그레이션하거나 변환하는 작업을 자동화하도록 Shift 툴킷을 구성하기 시작합니다.



=== 사이트 추가

첫 번째 단계는 소스 vCenter를 검색하고 추가한 다음 타겟 Hyper-V 세부 정보(하이퍼바이저 및 스토리지 모두)를 Shift 툴킷에 추가하는 것입니다. 지원되는 브라우저에서 Shift 툴킷을 열고 기본 사용자 이름과 암호(admin/admin)를 사용하고 "사이트 추가"를 클릭합니다.

image:shift-toolkit-image20.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]


NOTE: 검색 옵션을 사용하여 사이트를 추가할 수도 있습니다.

다음 플랫폼을 추가합니다.

* 출처 *

* 원본 사이트 세부 정보
+
** 사이트 이름 - 사이트의 이름을 입력합니다
** 하이퍼바이저 - VMware를 소스로 선택(GA 중에만 사용 가능한 옵션)
** 사이트 위치 – 기본 옵션을 선택합니다
** 커넥터 – 기본 선택 항목을 선택합니다




채워지면 계속 을 클릭합니다.

image:shift-toolkit-image21.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

* 소스 vCenter
+
** Endpoint - vCenter 서버의 IP 주소 또는 FQDN을 입력합니다
** username - vCenter를 액세스하기 위한 사용자 이름입니다(UPN 형식: `username@domain.com`).
** vCenter Password – 리소스 인벤토리를 수행하기 위해 vCenter에 액세스하는 암호입니다.
** vCenter SSL 지문(선택 사항)




"자체 서명된 인증서 수락"을 선택하고 계속 을 클릭합니다.

image:shift-toolkit-image22.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

* ONTAP 스토리지 시스템 자격 증명입니다


image:shift-toolkit-image23.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

Shift 툴킷이 추가되면 자동 검색을 수행하고 관련 메타데이터 정보와 함께 VM을 표시합니다. 시프트 툴킷은 VM에서 사용하는 네트워크 및 포트 그룹을 자동으로 감지하여 채웁니다.


NOTE: 소스 사이트를 수정한 경우 검색을 실행하여 최신 정보를 가져와야 합니다. 사이트 이름에 대해 3개의 점을 클릭하고 "사이트 검색"을 클릭하면 됩니다.


NOTE: VM 인벤토리는 24시간마다 자동으로 새로 고쳐집니다.

image:shift-toolkit-image24.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

특정 vCenter의 데이터를 보려면 대시보드로 이동하여 해당 사이트 이름에 대한 "View VM List"를 클릭합니다. 이 페이지에는 VM 속성과 함께 VM 인벤토리가 표시됩니다.

다음 단계는 대상 하이퍼바이저를 추가하는 것입니다. 추가하려면 "새 사이트 추가"를 클릭하고 "대상"을 선택합니다.

* 목적지 *

image:shift-toolkit-image25.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

* 대상 사이트 세부 정보
+
** 사이트 이름 - 사이트의 이름을 입력합니다
** 하이퍼바이저 - 대상으로 Hyper-V 또는 KVM을 선택합니다
** 사이트 위치 – 기본 옵션을 선택합니다
** 커넥터 – 기본 선택 항목을 선택합니다




채워지면 계속 을 클릭합니다.

image:shift-toolkit-image26.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

하이퍼바이저 선택에 따라 필요한 세부 정보를 입력합니다.

* 대상 Hyper-V 세부 정보입니다
+
** Hyper-V 독립 실행형 또는 페일오버 클러스터 관리자 IP 주소 또는 FQDN
** username - 액세스할 사용자 이름입니다(UPN 형식: `username@domain.com` 또는 domain\administrator).
+
암호 - 리소스 인벤토리를 수행하기 위한 Hyper-V 호스트 또는 FCI 인스턴스에 액세스하기 위한 암호입니다.

+
"자체 서명된 인증서 수락"을 선택하고 계속 을 클릭합니다.





image:shift-toolkit-image27.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

완료되면 계속 을 클릭합니다


NOTE: Shift 도구 키트는 현재 릴리스에서 System Center와 직접 통신하지 않습니다.


NOTE: Hyper-V FCI 및 호스트 검색은 DNS 확인에 의존합니다. Shift 툴킷 VM에서 호스트 이름을 확인할 수 있어야 합니다. 해결이 실패하면 호스트 파일(C:\Windows\System32\drivers\etc\hosts)을 업데이트하고 검색 작업을 다시 시도하십시오.

* ONTAP 스토리지 시스템 *

image:shift-toolkit-image28.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]


NOTE: 소스 및 대상 스토리지 시스템은 볼륨 레벨 및 동일한 볼륨 내에서 디스크 형식 변환이 수행되는 것과 동일해야 합니다.

image:shift-toolkit-image29.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

다음 단계는 필요한 VM을 마이그레이션 그룹에 리소스 그룹으로 그룹화하는 것입니다.



== 리소스 그룹

플랫폼이 추가되면 마이그레이션하거나 변환할 VM을 리소스 그룹으로 그룹화합니다. 시프트 툴킷 리소스 그룹을 사용하면 종속 VM의 세트를 부트 순서 및 부트 지연이 포함된 논리 그룹으로 그룹화할 수 있습니다.


NOTE: 리소스 그룹을 생성하기 전에 qtree가 프로비저닝되었는지 (전제 조건 섹션에서 언급한 대로) 확인합니다.

자원 그룹 작성을 시작하려면 “새 자원 그룹 작성” 메뉴 항목을 클릭합니다.

. 리소스 그룹에 액세스하려면 "새 리소스 그룹 만들기"를 클릭합니다.
+
image:shift-toolkit-image30.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. “New resource group(새 리소스 그룹)”의 드롭다운에서 Source site(소스 사이트)를 선택하고 “Create(생성)”를 클릭합니다.
. 자원 그룹 세부 정보를 제공하고 워크플로를 선택합니다. 워크플로는 두 가지 옵션을 제공합니다
+
.. 클론 기반 마이그레이션 – VM을 소스 하이퍼바이저에서 대상 하이퍼바이저로 종단간 마이그레이션을 수행합니다.
.. 클론 기반 변환 – 디스크 형식을 선택한 하이퍼바이저 유형으로 변환합니다.
+
image:shift-toolkit-image31.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]



. "Continue(계속)"를 클릭합니다.
. 검색 옵션을 사용하여 적절한 VM을 선택합니다. 기본 필터 옵션은 "Datastore"입니다.
+

NOTE: 변환하기 전에 VM을 새로 생성한 ONTAP SVM의 지정된 데이터 저장소로 변환하거나 마이그레이션할 수 있습니다. 이렇게 하면 운영 NFS 데이터 저장소를 격리하고 지정된 데이터 저장소를 사용하여 가상 머신을 스테이징할 수 있습니다.

+
image:shift-toolkit-image32.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+

NOTE: 이 컨텍스트의 데이터 저장소 드롭다운에는 NFSv3 데이터 저장소만 표시됩니다. NFSv4 데이터 저장소가 표시되지 않습니다.

+
image:shift-toolkit-image33.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. "Destination Site(대상 사이트)", Destination Hyper-V entry(대상 Hyper-V 항목), Datastore to Qtree mapping(데이터스토어-Qtree 매핑)을 선택하여 마이그레이션 세부 정보를 업데이트합니다.
+
image:shift-toolkit-image34.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+

NOTE: VM을 ESX에서 Hyper-V로 변환할 때 대상 경로(변환된 VM이 저장되는 위치)가 qtree로 설정되었는지 확인합니다. 대상 경로를 적절한 qtree로 설정합니다.

+

NOTE: 여러 qtree를 생성하여 변환된 VM 디스크를 저장하는 데 사용할 수 있습니다.

. 선택한 모든 VM에 대해 부팅 순서 및 부팅 지연(초)을 선택합니다. 각 가상 컴퓨터를 선택하고 우선 순위를 설정하여 전원 켜기 순서를 설정합니다. 모든 가상 머신의 기본값은 3입니다.
+
옵션은 다음과 같습니다.

+
1 – 전원을 켤 첫 번째 가상 머신 3 – 기본값 5 – 전원을 켤 마지막 가상 머신

+
image:shift-toolkit-image35.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. "Create Resource Group"을 클릭합니다.
+
image:shift-toolkit-image36.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+

NOTE: 가상 머신을 추가하거나 제거하기 위해 리소스 그룹을 수정해야 하는 경우 리소스 그룹 이름에 대해 3개의 점을 사용하고 "자원 그룹 편집"을 선택합니다.





=== 청사진

가상 머신을 마이그레이션하거나 변환하려면 계획이 필요합니다. 드롭다운에서 소스 및 대상 하이퍼바이저 플랫폼을 선택하고 이 청사진에 포함할 리소스 그룹을 선택하고 애플리케이션 전원을 켜야 하는 방법(예: 도메인 컨트롤러, 계층 1, 계층 2 등)의 그룹화를 선택합니다. 이를 마이그레이션 계획이라고도 합니다. 청사진을 정의하려면 "Blueprints" 탭으로 이동하고 "Create New Blueprint"를 클릭하십시오.

청사진 작성을 시작하려면 "Create New Blueprint"를 클릭하십시오.

. Blueprints에 액세스하여 "Create New Blueprint"를 클릭하십시오.
+
image:shift-toolkit-image37.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. "New Blueprint"에서 계획 이름을 제공하고 소스 사이트 > 관련 vCenter, 대상 사이트 및 관련 Hyper-V 하이퍼바이저를 선택하여 필요한 호스트 매핑을 추가합니다.
. 매핑이 완료되면 클러스터 및 호스트 매핑을 선택합니다.
+
image:shift-toolkit-image38.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. Resource Group Details를 선택하고 "Continue"를 클릭합니다.
+
image:shift-toolkit-image39.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. 리소스 그룹에 대한 실행 순서를 설정합니다. 이 옵션을 사용하면 여러 리소스 그룹이 있을 때 작업 순서를 선택할 수 있습니다.
. 완료되면 적절한 가상 스위치에 대한 네트워크 매핑 을 선택합니다. 가상 스위치는 이미 Hyper-V 내에서 프로비저닝되어야 합니다
+
image:shift-toolkit-image40.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+

NOTE: Hyper-V 측면에서는 네트워크를 선택할 수 있는 옵션이 "외부"인 가상 스위치 유형만 지원됩니다.

+

NOTE: 테스트 마이그레이션의 경우 "네트워크 구성 안 함"이 기본 선택이며 Shift 툴킷은 IP 주소 할당을 수행하지 않습니다. 디스크를 변환하고 Hyper-V 측에서 가상 시스템을 구입하면 프로덕션 네트워크와 충돌하지 않도록 버블 네트워크 스위치를 수동으로 할당합니다.

+
image:shift-toolkit-image41.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

. 선택한 VM에 따라 스토리지 매핑이 자동으로 선택됩니다.
+

NOTE: qtree를 미리 프로비저닝했고 SMB 공유에서 가상 머신을 생성하고 전원을 켤 수 있도록 필요한 권한이 할당되었는지 확인합니다.

. VM 세부 정보 에서 각 OS 유형에 대한 서비스 계정 및 유효한 사용자 자격 증명을 제공합니다. 가상 머신에 접속하여 VMware 툴 제거 및 IP 구성 세부 정보 백업에 필요한 특정 스크립트를 생성하고 실행하는 데 사용됩니다.
+
.. Windows 기반 OS의 경우 로컬 관리자 Privileges가 있는 사용자를 사용하는 것이 좋습니다. 도메인 자격 증명도 사용할 수 있지만 변환하기 전에 VM에 사용자 프로필이 있는지 확인하십시오. 그렇지 않으면 네트워크에 연결되어 있지 않을 때 도메인 인증을 찾는 것처럼 도메인 자격 증명이 작동하지 않습니다.
.. Linux distro 기반 게스트 VM의 경우 암호 없이 sudo 명령을 실행할 수 있는 사용자를 제공하십시오. 즉, 사용자가 sudoers 목록에 포함되거나 새 구성 파일로 /etc/sudoers.d/ 폴더에 추가되어야 합니다.
+
image:shift-toolkit-image42.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]



. 다시 VM 세부 정보 아래에서 관련 IP 구성 옵션을 선택합니다. 기본적으로 "구성 안 함"이 선택되어 있습니다.
+
.. 소스 시스템에서 동일한 IP를 가진 VM을 마이그레이션하려면 "IP 유지"를 선택합니다.
.. 소스 시스템의 정적 IP를 사용하여 VM을 마이그레이션하고 대상 VM에 DHCP를 할당하려면 "DHCP"를 선택합니다.
+
이 기능이 작동하려면 다음 요구 사항이 충족되어야 합니다.

+
*** VM 준비 단계에서 예약된 마이그레이션 시간까지 VM의 전원이 켜져 있는지 확인합니다.
*** VMware VM의 경우 VMware Tools가 설치되어 있는지 확인합니다.
*** Windows OS의 관리자 Privileges 및 Linux 기반 distro OS의 암호 없는 sudo Privileges 옵션을 사용하여 cron 작업을 생성하는 계정으로 소스 VM에서 준비 스크립트를 실행해야 합니다.




. 다음 단계는 VM 구성입니다.
+
.. 선택적으로 VM CPU/RAM 매개 변수의 크기를 조정할 수 있으며, 이는 크기 조정 시 매우 유용합니다.
.. 부팅 순서 재정의: 리소스 그룹에서 선택한 모든 VM에 대한 부팅 순서 및 부팅 지연(초)도 수정합니다. 이 옵션은 리소스 그룹 부팅 순서 선택 중에 선택한 항목으로부터 변경이 필요한 경우 부팅 순서를 수정하는 추가 옵션입니다. 기본적으로 리소스 그룹 선택 중에 선택한 부팅 순서가 사용되지만 이 단계에서는 수정할 수 있습니다.
.. 전원 켜기: 워크플로우가 가상 시스템의 전원을 켜지 않을 경우 이 옵션의 선택을 취소합니다. 기본 옵션은 On으로 설정되어 있으며, 이는 VM의 전원이 켜진다는 것을 의미합니다.
.. VMware 툴 제거: Shift 툴킷은 변환 후 VMware 툴을 제거합니다. 이 옵션은 기본적으로 선택되어 있습니다. 고객의 맞춤형 스크립트를 실행하려는 계획인 경우 이 옵션을 선택 취소할 수 있습니다.
.. 생성: Shift 툴킷은 다음 경험 규칙을 사용하며 기본적으로 적절한 one-gen1> BIOS 및 Gen2> EFI가 사용됩니다. 이 옵션을 선택할 수 없습니다.
.. MAC 유지: 각 VM의 MAC 주소를 유지하면 MAC에 의존하는 애플리케이션의 라이센스 문제를 해결할 수 있습니다.
.. 서비스 계정 재정의: 이 옵션을 사용하면 글로벌 계정을 사용할 수 없는 경우 별도의 서비스 계정을 지정할 수 있습니다.
+
image:shift-toolkit-image43.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]



. "계속"을 클릭합니다.
. 다음 단계에서는 확인란을 선택하여 날짜 및 시간을 설정하여 마이그레이션을 예약합니다. 예약된 날짜 전에 모든 가상 머신(VM)이 준비되고 전원이 꺼졌는지 확인합니다. 작업이 완료되면 "Create Blueprint"를 클릭하십시오.
+
image:shift-toolkit-image44.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+

NOTE: 일정을 세우는 동안 현재 Shift VM 시간보다 30분 이상 빠른 날짜를 선택합니다. 이는 워크플로가 리소스 그룹 내에서 VM을 준비하는 데 충분한 시간을 갖도록 하기 위한 것입니다.

. 청사진이 생성되면 준비 VM 작업이 시작되고 소스 VM에서 자동으로 스크립트를 실행하여 마이그레이션을 준비합니다
+
image:shift-toolkit-image45.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+
이 작업은 invoke-VMScript 방법을 사용하여 스크립트를 실행하여 VMware 툴을 제거하고 IP 주소, 경로 및 DNS 정보를 포함한 네트워크 구성 세부 정보를 백업하는 데 필요한 스크립트를 복사합니다. 이 스크립트는 타겟 VM에서 동일한 설정을 유지하는 데 사용됩니다.

+
** Windows 기반 운영 체제의 경우 준비 스크립트가 저장되는 기본 위치는 "C:\NetApp" 폴더입니다.
+
image:shift-toolkit-image46.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

** Linux 기반 VM의 경우 준비 스크립트가 저장되는 기본 위치는 /NetApp 및 /opt 디렉토리입니다.
+
image:shift-toolkit-image47.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+

NOTE: CentOS 또는 Red Hat을 실행하는 Linux 소스 VM의 경우 Shift 툴킷은 필요한 Hyper-V 드라이버를 자동으로 설치하는 지능적입니다. 변환 후 VM이 성공적으로 부팅될 수 있도록 디스크를 변환하기 전에 소스 VM에 이러한 드라이버가 있어야 합니다.

+

NOTE: 자세한 내용은 을 link:https://access.redhat.com/solutions/3465011["RHEL VM을 Hyper-V로 마이그레이션한 후 시스템이 dracut에 멈춤"]참조하십시오.

+
PrepareVM 작업이 성공적으로 완료되면(아래 스크린샷에 표시됨) VM을 마이그레이션할 준비가 되었으며 청사진 상태가 "활성"으로 업데이트됩니다.

+
image:shift-toolkit-image48.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+
image:shift-toolkit-image49.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

+
이제 설정된 시간에 마이그레이션이 수행되거나 마이그레이션 옵션을 클릭하여 수동으로 시작할 수 있습니다.







== 모니터링 및 대시보드

작업 모니터링을 사용하여 작업 상태를 모니터링합니다.

image:shift-toolkit-image76.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

직관적인 UI를 사용하여 마이그레이션, 변환 및 청사진의 상태를 자신 있게 평가할 수 있습니다. 이를 통해 관리자는 마이그레이션되거나 변환된 VM 수와 함께 성공, 실패 또는 부분 실패한 계획을 신속하게 식별할 수 있습니다.

image:shift-toolkit-image77.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]



== 고급 설정

Shift 도구 키트는 상단 도구 모음에서 설정 아이콘을 클릭하여 액세스할 수 있는 고급 설정을 제공합니다.

image:shift-toolkit-image78.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]



=== CredSSP의 약어입니다

Shift는 CredSSP(자격 증명 보안 서비스 공급자)를 활용하여 자격 증명 전송을 관리합니다. 변환 프로세스 중에 Shift 서버는 변환되는 VM의 게스트 OS에서 많은 스크립트를 실행합니다. 이러한 스크립트를 실행하는 자격 증명은 Hyper-V 서버를 통해 Shift 서버에서 게스트 OS로 "더블 홉"을 통해 전달됩니다.

image:shift-toolkit-image79.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

* CredSSP 클라이언트로 Shift 서버 구성: *

"고급 설정" 마법사는 자동으로 Shift 서버를 CredSSP 클라이언트로 구성합니다. 이렇게 하면 Shift 서버가 자격 증명을 Hyper-V 서버에 위임할 수 있습니다.

* 무대 뒤에서 일어나는 일: *

Shift 툴킷은 일련의 명령을 실행하여 자신을 클라이언트로 구성하여 Hyper-V 호스트를 관리할 수 있도록 합니다. 이 프로세스에는 필요한 구성을 설정하는 작업이 포함됩니다.

* 다음 명령을 실행합니다.
+
** 세트 항목 WSMan:\localhost\Client\TrustedHosts-value "FQDN-of-hyper-v-host"
** enable-WSManCredSSP-Role client-DelegateComputer "FQDN-of-hyper-v-host"(ENABLE-WSManCredSSP-역할 클라이언트-위임자컴퓨터)


* 다음 그룹 정책을 구성합니다.
+
** 컴퓨터 구성 > 관리 템플릿 > 시스템 > 자격 증명 위임 > NTLM 전용 서버 인증을 사용하여 새 자격 증명을 위임할 수 있습니다




Enable을 선택하고 WSMan/FQDN-of-Hyper-v-host를 추가합니다.

*Hyper-V 서버를 CredSSP 서버로 구성*

Hyper-V 서버에서 Enable-WSManCredSSP cmdlet을 사용하여 Hyper-V 서버를 CredSSP 서버로 구성하면 Hyper-V 서버가 Shift 서버에서 자격 증명을 받을 수 있습니다.

Shift 툴킷 서버에서 가상 머신을 프로비저닝할 Hyper-V 호스트에서 관리자 권한으로 Windows PowerShell 세션을 열고 다음 명령을 실행합니다.

. 활성화 - PSRemoting
. enable-WSManCredSSP - 역할 서버




=== 거슬러요

고급 설정의 swagger 페이지에서 사용 가능한 API와 상호 작용할 수 있습니다. Shift 툴킷 REST API를 통해 사용할 수 있는 리소스는 Swagger API 설명서 페이지에 표시된 대로 카테고리로 구성됩니다. 다음은 기본 리소스 경로가 있는 각 리소스에 대한 간략한 설명과 함께 적절한 경우 추가 사용 고려 사항입니다.

image:shift-toolkit-image80.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

* 세션 *

이 API를 사용하여 Shift 툴킷 서버에 로그인할 수 있습니다. 이 API는 후속 요청을 인증하는 데 사용되는 사용자 인증 토큰을 반환합니다.

* 세션을 시작합니다
* 세션을 검증합니다
* 모든 Session ID를 다운로드하십시오
* 세션을 종료합니다


* 커넥터 *

* 연결선을 추가합니다
* 모든 커넥터의 세부 정보를 봅니다
* ID별로 커넥터 세부 정보를 업데이트합니다
* ID별로 커넥터 세부 정보를 가져옵니다


* 테넌트 *

API를 사용하여 추가 및 가져오기 작업을 수행합니다

* 테넌트를 추가합니다
* 모든 테넌트를 가져옵니다


* 사용자 *

API를 사용하여 추가, 가져오기, 변경 및 수락 작업을 수행합니다

* 사용자를 추가합니다
* 모든 사용자를 가져옵니다
* 사용자의 암호를 변경합니다
* EULA에 동의합니다


* CredSSP *

API를 사용하여 활성화 및 가져오기 작업을 수행합니다

* CredSSP를 활성화합니다
* CredSSP의 상태를 가져옵니다


* 사이트 *

API를 사용하여 가져오기, 추가, 삭제 및 업데이트 작업을 수행합니다

* 사이트 수를 가져옵니다
* 모든 사이트 세부 정보를 가져옵니다
* 사이트를 추가합니다
* ID별 사이트 세부 정보를 가져옵니다
* ID로 사이트를 삭제합니다
* 사이트에 가상 환경을 추가합니다
* 사이트에 스토리지 환경을 추가합니다
* 사이트의 가상 환경 세부 정보를 가져옵니다
* 사이트의 가상 환경 세부 정보를 업데이트합니다
* 사이트의 가상 환경 세부 정보를 삭제합니다
* 사이트의 스토리지 환경 세부 정보를 가져옵니다
* 사이트의 스토리지 환경 세부 정보를 업데이트합니다
* 사이트의 스토리지 환경 세부 정보를 삭제합니다


* 검색 *

API를 사용하여 검색 및 가져오기 작업을 수행합니다

* 소스 사이트를 검색합니다
* 소스 사이트에 대한 모든 검색 요청을 가져옵니다
* 대상 사이트를 검색합니다
* 대상 사이트에 대한 모든 검색 요청을 가져옵니다
* ID별로 소스 사이트에 대한 검색 단계를 가져옵니다
* ID별로 대상 사이트에 대한 검색 단계를 가져옵니다


* VM *

API를 사용하여 가져오기 작업을 수행합니다

* 사이트 및 가상 환경에 대한 VM을 소스에서 가져옵니다
* 사이트 및 가상 환경에서 보호되지 않는 VM을 가져옵니다
* VM 수를 가져옵니다
* 보호된 VM 수를 가져옵니다


* 리소스 *

API를 사용하여 가져오기 작업을 수행합니다

* 사이트 및 가상 환경에 대한 리소스 세부 정보를 가져옵니다
* 소스 사이트 리소스 수를 가져옵니다


* 자원 그룹 *

API를 사용하여 추가, 업데이트 및 가져오기 작업을 수행합니다

* 보호 그룹 수를 가져옵니다
* 모든 보호 그룹 세부 정보를 가져옵니다
* 보호 그룹을 추가합니다
* ID별로 보호 그룹 세부 정보를 가져옵니다
* ID로 보호 그룹을 삭제합니다
* ID별로 보호 그룹 세부 정보를 업데이트합니다
* ID별로 보호 그룹의 VM을 가져옵니다
* 보호 그룹이 포함된 청사진을 가져옵니다


* 청사진 *

API를 사용하여 추가, 업데이트 및 가져오기 작업을 수행합니다

* 청사진 수를 가져옵니다
* 모든 청사진 세부 정보를 가져옵니다
* 청사진을 추가합니다
* ID별 청사진 세부 정보를 가져옵니다
* ID별 BluePrint 삭제
* ID에 대한 청사진 세부 정보를 업데이트합니다
* 청사진 VM을 가져옵니다
* 청사진에 있는 VM의 전원 상태를 확인합니다
* BluePrint Count를 가져옵니다
* 모든 청사진 세부 정보를 가져옵니다


* 규정 준수 *

API를 사용하여 추가 및 가져오기 작업을 수행합니다

* 청사진에 대한 규정 준수 확인 결과를 가져옵니다
* 청사진에 대한 규정 준수 확인 최종 상태를 확인합니다
* 청사진에 대한 필요 시 새 규정 준수 검사 추가


* 실행 *

API를 사용하여 가져오기 작업을 수행합니다

* 모든 실행 세부 정보를 가져옵니다
* 진행 중인 실행에 대한 세부 정보를 가져옵니다
* 실행 횟수를 구합니다
* 진행 중인 실행 횟수를 가져옵니다
* 실행 ID에 대한 단계를 가져옵니다


* 복구 *

API를 사용하여 추가 및 가져오기 작업을 수행합니다

* 청사진에 대한 새 실행 요청을 추가합니다
* Blueprint에 대한 실행 재시도 요청을 추가합니다
* 모든 청사진의 실행 상태를 가져옵니다
* Blueprint ID에 대한 실행 상태를 가져옵니다


* 스크립트 블록 *

API를 사용하여 가져오기 및 업데이트 작업을 수행합니다

* 모든 스크립트 메타데이터를 가져옵니다
* ID별로 스크립트 메타데이터를 가져옵니다
* 모든 새로 고침 메타데이터를 가져옵니다
* 스크립트를 실행합니다




=== 스크립트 블록

In Shift 툴킷 내의 스크립트 블록은 사용 가능한 내부 및 외부 API를 통해 기능을 자동화, 통합 및 개발하는 데 도움이 되는 샘플 코드를 제공합니다. 스크립트 블록의 코드 샘플 섹션에서 Shift 툴킷 자동화 팀과 커뮤니티 구성원이 작성한 샘플을 찾아 다운로드합니다. 이 샘플을 사용하여 자동화, 관리 또는 통합 작업을 시작합니다.

image:shift-toolkit-image81.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

다음은 Shift UI 내에서 특정 작업을 삭제하는 데 사용할 수 있는 샘플 PowerShell 스크립트의 예입니다. 워크플로우를 통해 기능이 공개되지 않지만 스크립트 블록을 통해서도 동일한 기능을 수행할 수 있습니다. 동일한 스크립트를 다운로드하고 호출하여 쉽게 실행할 수 있는 배트 스크립트로도 사용할 수 있습니다.

image:shift-toolkit-image82.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

이 슬라이드의 목표는 Shift 툴킷 API 및 각 하이퍼바이저에서 게시한 API를 사용하여 특정 하이퍼바이저에 대해 Day 0 및 Day N 작업을 수행하는 샘플 스크립트를 제공하는 것입니다.



== SAN 환경

Shift 툴킷의 핵심 요구 사항으로서 변환할 VM은 NAS 환경(ESX용 NFS)에 상주해야 합니다. SAN 환경(iSCSI, FC, FCoE, NVMeFC)에 상주하는 VM은 전환 전에 NAS 환경으로 마이그레이션해야 합니다.

image:shift-toolkit-image83.png["입력/출력 대화 상자 또는 작성된 내용을 표시하는 그림"]

위의 접근 방식은 VM이 SAN 데이터 저장소에 저장되는 일반적인 SAN 환경을 보여 줍니다. ESX에서 Hyper-V로 변환할 VM과 해당 디스크는 먼저 VMware vSphere Storage vMotion을 사용하여 NFS 데이터 저장소로 마이그레이션됩니다. 시프트 툴킷은 FlexClone를 사용하여 VM을 ESX에서 Hyper-V로 변환합니다. 변환된 VM(해당 디스크와 함께)은 CIFS 공유에 상주합니다. 변환된 VM(해당 디스크와 함께)은 Hyper-V Storage Live Migration을 사용하여 SAN 지원 CSV로 다시 마이그레이션됩니다.


NOTE: 노드에 다른 프로세스 기능 세트가 있는 경우 라이브 VM 마이그레이션이 실패할 수 있습니다. 이 문제는 “다른 프로세서가 있는 물리적 컴퓨터로 마이그레이션”을 설정하여 해결할 수 있습니다. 이 스크립트는 스크립트 블록 아래에 있습니다.
