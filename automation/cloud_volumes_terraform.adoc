---
sidebar: sidebar 
permalink: automation/cloud_volumes_terraform.html 
keywords: AWS, Azure, GCP, FSX, CVO, ANF, NetApp Volumes, Terraform, automation 
summary: '이 페이지에서는 Terraform을 사용하여 클라우드 공급자(AWS, Azure, GCP)에 NetApp 볼륨을 자동으로 구축하는 방법을 설명합니다.' 
---
= Terraform을 통한 Cloud Volumes Automation
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
이 솔루션에서는 Terraform 모듈을 사용하여 AWS(CVO Single Node, CVO HA, FSX ONTAP) 및 Azure(CVO Single Node, CVO HA, ANF)에 Cloud Volumes를 자동으로 구축합니다. 코드는 에서 찾을 수 있습니다 https://github.com/NetApp/na_cloud_volumes_automation[]



== 필수 구성 요소

. Terraform>=0.13
. Cloud Manager 계정
. 클라우드 공급자 계정 – AWS, Azure
. 호스트 시스템(Terraform에서 지원하는 모든 OS)




== 공급자 문서

Cloud Manager에 대한 Terraform 공급자 문서는 다음 사이트에서 확인할 수 있습니다. link:https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs["https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs"]



=== 공급자 버전 제어

공급자 버전을 제어할 수도 있습니다. 이는 Terraform 구성의 필수 _providers 블록에 의해 제어됩니다.

구문은 다음과 같습니다.

[source, cli]
----
terraform {
  required_providers {
    netapp-cloudmanager = {
      source = "NetApp/netapp-cloudmanager"
      version = ">= 23.0.0"
    }
  }
}
----
공급자 버전 제어에 대해 자세히 알아보십시오.



== 특정 모듈 실행

.설치하고
[%collapsible%open]
====
[role="tabbed-block"]
=====
.CVO 단일 노드 구축
--
.AWS에 NetApp CVO(단일 노드 인스턴스)를 구축하기 위한 Terraform 구성 파일
이 섹션에는 AWS(Amazon Web Services)에서 단일 노드 NetApp CVO(Cloud Volumes ONTAP)를 구축/구성하기 위한 다양한 Terraform 구성 파일이 포함되어 있습니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. CLI에서 AWS 자격 증명을 구성합니다.
+
[source, cli]
----
    aws configure
----
+
** AWS 액세스 키 ID [없음]: AccessKey
** AWS 비밀 액세스 키 [없음]: secretkey
** 기본 지역 이름 [없음]: us-west-2
** 기본 출력 형식 [None]: json


. VAR/AWS_cvo_single_node_deployment.tfvar의 변수 값을 업데이트합니다
+

NOTE: 변수 "AWS_CONNECTOR_DEPLOY_BOOL"을 TRUE/FALSE로 설정하여 커넥터를 배포할 수 있습니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.aws_sn" -var-file="vars/aws_cvo_single_node_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.aws_sn" -var-file="vars/aws_cvo_single_node_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
    terraform destroy
----
.수취인:
커넥터

CVO 구축의 NetApp AWS 커넥터 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * AWS_CONNECTOR_DEPLOY_BOOL * | 불입니다 | (필수) 커넥터 배포를 확인합니다. 


| * AWS_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| * AWS_CONNETOR_REGION * | 문자열 | (필수) Cloud Manager Connector가 생성되는 지역 


| * AWS_connector_key_name * | 문자열 | (필수) Connector 인스턴스에 사용할 키 쌍의 이름입니다. 


| * AWS_CONNETOR_COMPANY * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| * AWS_connector_instance_type * | 문자열 | (필수) 인스턴스 유형(예: T3.xLarge). 최소 4개의 CPU와 16GB의 메모리가 필요합니다. 


| * AWS_connector_subnet_id * | 문자열 | (필수) 인스턴스에 대한 서브넷의 ID입니다. 


| * AWS_CONNETOR_SECURITY_GROUP_ID * | 문자열 | (필수) 인스턴스에 대한 보안 그룹의 ID를 ','로 구분하여 여러 보안 그룹을 제공할 수 있습니다. 


| * AWS_CONNETOR_IAM_INSTANCE_PROFILE_NAME * | 문자열 | (필수) Connector의 인스턴스 프로파일 이름입니다. 


| * AWS_CONNETOR_ACCOUNT_ID * | 문자열 | (선택 사항) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 


| * AWS_connector_public_IP_bool * | 불입니다 | (선택 사항) 공용 IP 주소를 인스턴스에 연결할지 여부를 나타냅니다. 제공되지 않으면 서브넷의 구성에 따라 연결이 수행됩니다. 
|===
'단일 노드 인스턴스'

단일 NetApp CVO 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * cvo_name * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * cvo_region * | 문자열 | (필수) 작업 환경을 생성할 영역입니다. 


| * cvo_subnet_id * | 문자열 | (필수) 작업 환경을 생성할 서브넷 ID입니다. 


| * cvo_vpc_id * | 문자열 | (선택 사항) 작업 환경을 생성할 VPC ID입니다. 이 인수를 제공하지 않으면 제공된 서브넷 ID를 사용하여 VPC를 계산합니다. 


| cvo_svm_password * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| * cvo_writing_speed_state * | 문자열 | (선택 사항) Cloud Volumes ONTAP에 대한 쓰기 속도 설정: ['정상','높음']. 기본값은 '정상'입니다. 
|===
--
.CVO HA 구축
--
.AWS에서 NetApp CVO(HA 쌍)를 구축하기 위한 Terraform 구성 파일
이 섹션에서는 AWS(Amazon Web Services)의 고가용성 쌍에 NetApp CVO(Cloud Volumes ONTAP)를 구축/구성하는 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. CLI에서 AWS 자격 증명을 구성합니다.
+
[source, cli]
----
    aws configure
----
+
** AWS 액세스 키 ID [없음]: AccessKey
** AWS 비밀 액세스 키 [없음]: secretkey
** 기본 지역 이름 [없음]: us-west-2
** 기본 출력 형식 [None]: json


. VAR/AWS_cvo_ha_deployment.tfvars의 변수 값을 업데이트합니다.
+

NOTE: 변수 "AWS_CONNECTOR_DEPLOY_BOOL"을 TRUE/FALSE로 설정하여 커넥터를 배포할 수 있습니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
      terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.aws_ha" -var-file="vars/aws_cvo_ha_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.aws_ha" -var-file="vars/aws_cvo_ha_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
    terraform destroy
----
.수취인:
커넥터

CVO 구축의 NetApp AWS 커넥터 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * AWS_CONNECTOR_DEPLOY_BOOL * | 불입니다 | (필수) 커넥터 배포를 확인합니다. 


| * AWS_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| * AWS_CONNETOR_REGION * | 문자열 | (필수) Cloud Manager Connector가 생성되는 지역 


| * AWS_connector_key_name * | 문자열 | (필수) Connector 인스턴스에 사용할 키 쌍의 이름입니다. 


| * AWS_CONNETOR_COMPANY * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| * AWS_connector_instance_type * | 문자열 | (필수) 인스턴스 유형(예: T3.xLarge). 최소 4개의 CPU와 16GB의 메모리가 필요합니다. 


| * AWS_connector_subnet_id * | 문자열 | (필수) 인스턴스에 대한 서브넷의 ID입니다. 


| * AWS_CONNETOR_SECURITY_GROUP_ID * | 문자열 | (필수) 인스턴스에 대한 보안 그룹의 ID를 ','로 구분하여 여러 보안 그룹을 제공할 수 있습니다. 


| * AWS_CONNETOR_IAM_INSTANCE_PROFILE_NAME * | 문자열 | (필수) Connector의 인스턴스 프로파일 이름입니다. 


| * AWS_CONNETOR_ACCOUNT_ID * | 문자열 | (선택 사항) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 


| * AWS_connector_public_IP_bool * | 불입니다 | (선택 사항) 공용 IP 주소를 인스턴스에 연결할지 여부를 나타냅니다. 제공되지 않으면 서브넷의 구성에 따라 연결이 수행됩니다. 
|===
하쌍

HA 쌍의 NetApp CVO 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * cvo_is_ha * | 불입니다 | (선택 사항) 작업 환경이 HA 쌍인지 여부를 나타냅니다[true, false]. 기본값은 false 입니다. 


| * cvo_name * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * cvo_region * | 문자열 | (필수) 작업 환경을 생성할 영역입니다. 


| * cvo_node1_subnet_id * | 문자열 | (필수) 첫 번째 노드가 생성될 서브넷 ID입니다. 


| * cvo_node2_subnet_id * | 문자열 | (필수) 두 번째 노드가 생성될 서브넷 ID입니다. 


| * cvo_vpc_id * | 문자열 | (선택 사항) 작업 환경을 생성할 VPC ID입니다. 이 인수를 제공하지 않으면 제공된 서브넷 ID를 사용하여 VPC를 계산합니다. 


| cvo_svm_password * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| * cvo_failover_mode * | 문자열 | (선택 사항) HA의 경우 HA 쌍의 페일오버 모드 ['PrivateIP', 'FloatingIP']. 'PrivateIP'는 단일 가용성 구역이고 'FloatingIP'는 여러 가용성 영역을 위한 것입니다. 


| * cvo_중재자_subnet_id * | 문자열 | (선택 사항) 중개자의 서브넷 ID인 HA의 경우. 


| * cvo_중재자_key_pair_name * | 문자열 | (선택 사항) HA의 경우 중재자 인스턴스의 키 쌍 이름입니다. 


| * cvo_cluster_floating_ip * | 문자열 | (선택 사항) HA FloatingIP의 경우 클러스터 관리 부동 IP 주소입니다. 


| * cvo_data_floating_ip * | 문자열 | (선택 사항) HA FloatingIP의 경우 데이터 부동 IP 주소입니다. 


| * cvo_data_floating_IP2 * | 문자열 | (선택 사항) HA FloatingIP의 경우 데이터 부동 IP 주소입니다. 


| * cvo_svm_floating_ip * | 문자열 | (선택 사항) HA FloatingIP의 경우 SVM 관리 부동 IP 주소입니다. 


| cvo_route_table_ids * | 목록 | (선택 사항) HA FloatingIP의 경우 부동 IP로 업데이트될 라우트 테이블 ID 목록입니다. 
|===
--
.FSX 배포
--
.AWS에 NetApp ONTAP FSx 구축을 위한 Terraform 구성 파일
이 섹션에서는 AWS(Amazon Web Services)에서 NetApp ONTAP FSx를 구축/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. CLI에서 AWS 자격 증명을 구성합니다.
+
[source, cli]
----
    aws configure
----
+
** AWS 액세스 키 ID [없음]: AccessKey
** AWS 비밀 액세스 키 [없음]: secretkey
** 기본 지역 이름 [없음]: us-west-2
** 기본 출력 형식 [None](없음):


. VAR/AWS_FSX_deployment.tfvars의 변수 값을 업데이트합니다
+

NOTE: 변수 "AWS_CONNECTOR_DEPLOY_BOOL"을 TRUE/FALSE로 설정하여 커넥터를 배포할 수 있습니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.aws_fsx" -var-file="vars/aws_fsx_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.aws_fsx" -var-file="vars/aws_fsx_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
    terraform destroy
----
.레시피:
커넥터

NetApp AWS 커넥터 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * AWS_CONNECTOR_DEPLOY_BOOL * | 불입니다 | (필수) 커넥터 배포를 확인합니다. 


| * AWS_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| * AWS_CONNETOR_REGION * | 문자열 | (필수) Cloud Manager Connector가 생성되는 지역 


| * AWS_connector_key_name * | 문자열 | (필수) Connector 인스턴스에 사용할 키 쌍의 이름입니다. 


| * AWS_CONNETOR_COMPANY * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| * AWS_connector_instance_type * | 문자열 | (필수) 인스턴스 유형(예: T3.xLarge). 최소 4개의 CPU와 16GB의 메모리가 필요합니다. 


| * AWS_connector_subnet_id * | 문자열 | (필수) 인스턴스에 대한 서브넷의 ID입니다. 


| * AWS_CONNETOR_SECURITY_GROUP_ID * | 문자열 | (필수) 인스턴스에 대한 보안 그룹의 ID를 ','로 구분하여 여러 보안 그룹을 제공할 수 있습니다. 


| * AWS_CONNETOR_IAM_INSTANCE_PROFILE_NAME * | 문자열 | (필수) Connector의 인스턴스 프로파일 이름입니다. 


| * AWS_CONNETOR_ACCOUNT_ID * | 문자열 | (선택 사항) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 


| * AWS_connector_public_IP_bool * | 불입니다 | (선택 사항) 공용 IP 주소를 인스턴스에 연결할지 여부를 나타냅니다. 제공되지 않으면 서브넷의 구성에 따라 연결이 수행됩니다. 
|===
FSx 인스턴스

NetApp ONTAP FSx 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * FSX_NAME * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * FSX_지역 * | 문자열 | (필수) 작업 환경을 생성할 영역입니다. 


| * FSX_PRIMARY_SUBNET_ID * | 문자열 | (필수) 작업 환경을 생성할 기본 서브넷 ID입니다. 


| * FSX_secondary_subnet_id * | 문자열 | (필수) 작업 환경을 생성할 보조 서브넷 ID입니다. 


| * FSX_ACCOUNT_ID * | 문자열 | (필수) FSx 인스턴스가 연결될 NetApp 계정 ID입니다. 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 


| * FSX_workspace_id * | 문자열 | (필수) 작업 환경의 Cloud Manager 작업 공간의 ID입니다. 


| * FSX_ADMIN_PASSWORD * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| * FSX_Throughput_Capacity * | 문자열 | (선택 사항) 처리량의 용량입니다. 


| * FSX_STORAGE_capacity_size * | 문자열 | (선택 사항) 첫 번째 데이터 애그리게이트의 EBS 볼륨 크기입니다. GB의 경우 단위는 [100 또는 500]입니다. TB의 경우 장치는 [1,2,4,8,16]일 수 있습니다. 기본값은 '1'입니다. 


| * FSX_STORAGE_capacity_size_unit * | 문자열 | (선택 사항) ['GB' 또는 'TB']. 기본값은 'TB'입니다. 


| * FSX_cloudmanager_AWS_credential_name * | 문자열 | (필수) AWS 자격 증명 계정 이름의 이름입니다. 
|===
--
=====
====
.Azure를 지원합니다
[%collapsible%open]
====
[role="tabbed-block"]
=====
.ANF
--
.Azure에서 ANF 볼륨 배포를 위한 Terraform 구성 파일
이 섹션에서는 Azure에서 ANF(Azure NetApp Files) 볼륨을 배포/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation
----
. Azure CLI에 로그인합니다(Azure CLI가 설치되어 있어야 함).
+
[source, cli]
----
    az login
----
. VAR/Azure_anf.tfvars의 변수 값을 업데이트합니다.
+

NOTE: "VNET_creation_bool" 및 "subnet_creation_bool" 값을 false로 설정하고 "subnet_id_for_anf_vol"을 제공하여 기존 VNET 및 서브넷을 사용하여 ANF 볼륨을 배포하도록 선택할 수 있습니다. 또한 이 값을 true로 설정하고 새 VNET 및 서브넷을 생성할 수 있습니다. 이 경우 서브넷 ID는 새로 생성된 서브넷에서 자동으로 가져옵니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.anf" -var-file="vars/azure_anf.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.anf" -var-file="vars/azure_anf.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
  terraform destroy
----
.수취인:
'단일 노드 인스턴스'

단일 NetApp ANF 볼륨에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * az_location * | 문자열 | (필수) 리소스가 있는 지원되는 Azure 위치를 지정합니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_prefix * | 문자열 | (필수) NetApp Volume을 생성해야 하는 리소스 그룹의 이름입니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| * az_VNET_address_space * | 문자열 | (필수) ANF 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 주소 공간입니다. 


| az_subnet_address_prefix * | 문자열 | (필수) ANF 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 서브넷 주소 접두사입니다. 


| az_volume_path * | 문자열 | (필수) 볼륨의 고유한 파일 경로입니다. 마운트 타겟을 생성할 때 사용됩니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_capacity_pool_size * | 정수 | (필수) 용량 풀 크기가 TB 단위로 언급됩니다. 


| * az_VNET_creation_bool * | 부울 | (필수) 새 VNET를 만들려면 이 부울을 "true"로 설정합니다. 기존 VNET를 사용하려면 false로 설정합니다. 


| az_subnet_creation_bool * | 부울 | (필수) 이 부울을 "true"로 설정하면 새 서브넷이 생성됩니다. 기존 서브넷을 사용하려면 false로 설정합니다. 


| _anf_vol * 용 * az_subnet_id_입니다 | 문자열 | (필수) 'subnet_creation_bool'을 TRUE로 설정하여 기존 서브넷을 사용하려는 경우 서브넷 ID를 언급합니다. false로 설정된 경우 기본값으로 둡니다. 


| * az_netapp_pool_service_level * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_service_level * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_protocol * | 문자열 | (선택 사항) 목록으로 표시된 대상 볼륨 프로토콜입니다. 지원되는 단일 값으로는 CIFS, NFSv3, NFSv4.1 등이 있습니다. 인수가 정의되지 않으면 기본적으로 NFSv3으로 설정됩니다. 이렇게 변경하면 새 리소스가 생성되고 데이터가 손실됩니다. 


| * az_NetApp_vol_security_style * | 문자열 | (선택 사항) 볼륨 보안 스타일이며 허용되는 값은 Unix 또는 NTFS입니다. 제공되지 않을 경우 단일 프로토콜 볼륨이 기본 설정인 Unix로 기본 설정됩니다. 즉, "NFSv3" 또는 "NFSv4.1" 볼륨인 경우에는 기본 설정인 "NTFS"가 됩니다. 이중 프로토콜 볼륨에서 제공하지 않으면 그 값은 NTFS가 됩니다. 


| * az_NetApp_vol_storage_quota * | 문자열 | (필수) 파일 시스템에 허용되는 최대 스토리지 할당량(GB)입니다. 
|===

NOTE: 권장 사항에 따라 이 스크립트는 를 사용합니다 `prevent_destroy` 구성 파일에서 실수로 데이터가 손실될 가능성을 줄이기 위한 수명 주기 인수입니다. 에 대한 자세한 내용은 를 참조하십시오 `prevent_destroy` 문서 수정 상태 인수 Terraform 문서를 참조하십시오. https://developer.hashicorp.com/terraform/tutorials/state/resource-lifecycle#prevent-resource-deletion[].

--
.ANF 데이터 보호
--
.Azure에서 데이터 보호를 사용하여 ANF 볼륨 배포를 위한 Terraform 구성 파일
이 섹션에서는 Azure에서 데이터 보호를 사용하여 ANF(Azure NetApp Files) 볼륨을 배포/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation
----
. Azure CLI에 로그인합니다(Azure CLI가 설치되어 있어야 함).
+
[source, cli]
----
    az login
----
. VAR/Azure_anf_data_protection.tfvars의 변수 값을 업데이트합니다.
+

NOTE: "VNET_creation_bool" 및 "subnet_creation_bool" 값을 false로 설정하고 "subnet_id_for_anf_vol"을 제공하여 기존 VNET 및 서브넷을 사용하여 ANF 볼륨을 배포하도록 선택할 수 있습니다. 또한 이 값을 true로 설정하고 새 VNET 및 서브넷을 생성할 수 있습니다. 이 경우 서브넷 ID는 새로 생성된 서브넷에서 자동으로 가져옵니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.anf_data_protection" -var-file="vars/azure_anf_data_protection.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.anf_data_protection" -var-file="vars/azure_anf_data_protection.tfvars
----


를 눌러 배포를 삭제합니다

[source, cli]
----
  terraform destroy
----
.수취인:
'ANF 데이터 보호'

데이터 보호가 활성화된 단일 ANF 볼륨에 대한 Terraform 변수.

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * az_location * | 문자열 | (필수) 리소스가 있는 지원되는 Azure 위치를 지정합니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_alt_location * | 문자열 | (필수) 보조 볼륨을 생성할 Azure 위치입니다 


| az_prefix * | 문자열 | (필수) NetApp Volume을 생성해야 하는 리소스 그룹의 이름입니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| * az_VNET_PRIMARY_ADDRESS_SPACE * | 문자열 | (필수) ANF 1차 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 주소 공간입니다. 


| * az_VNET_secondary_address_space * | 문자열 | (필수) ANF 2차 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 주소 공간입니다. 


| az_subnet_primary_address_prefix * | 문자열 | (필수) ANF 운영 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 서브넷 주소 접두사입니다. 


| az_subnet_secondary_address_prefix * | 문자열 | (필수) ANF 2차 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 서브넷 주소 접두사입니다. 


| az_volume_path_primary * | 문자열 | (필수) 운영 볼륨의 고유한 파일 경로입니다. 마운트 타겟을 생성할 때 사용됩니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_volume_path_secondary * | 문자열 | (필수) 보조 볼륨의 고유한 파일 경로입니다. 마운트 타겟을 생성할 때 사용됩니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_capacity_pool_size_primary * | 정수 | (필수) 용량 풀 크기가 TB 단위로 언급됩니다. 


| az_capacity_pool_size_secondary * | 정수 | (필수) 용량 풀 크기가 TB 단위로 언급됩니다. 


| * az_VNET_primary_creation_bool * | 부울 | (필수) 운영 볼륨에 대해 새 VNET를 생성하려면 이 부울을 "true"로 설정합니다. 기존 VNET를 사용하려면 false로 설정합니다. 


| * az_VNET_secondary_creation_bool * | 부울 | (필수) 보조 볼륨에 대한 새 VNET를 생성하려면 이 부울을 "true"로 설정합니다. 기존 VNET를 사용하려면 false로 설정합니다. 


| az_subnet_primary_creation_bool * | 부울 | (필수) 운영 볼륨에 대한 새 서브넷을 생성하려면 이 부울을 "true"로 설정합니다. 기존 서브넷을 사용하려면 false로 설정합니다. 


| az_subnet_secondary_creation_bool * | 부울 | (필수) 이 부울을 "true"로 설정하면 보조 볼륨에 대한 새 서브넷이 생성됩니다. 기존 서브넷을 사용하려면 false로 설정합니다. 


| _anf_vol * 용 * az_primary_subnet_id_입니다 | 문자열 | (필수) 'subnet_primary_creation_bool'을 TRUE로 설정하여 기존 서브넷을 사용하려는 경우 서브넷 ID를 언급합니다. false로 설정된 경우 기본값으로 둡니다. 


| _anf_vol * 용 * az_secondary_subnet_id_입니다 | 문자열 | (필수) 'subnet_secondary_creation_bool'을 TRUE로 설정하여 기존 서브넷을 사용하려는 경우 서브넷 ID를 언급합니다. false로 설정된 경우 기본값으로 둡니다. 


| * az_netapp_pool_service_level_primary * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_netapp_pool_service_level_secondary * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_service_level_primary * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_service_level_secondary * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_protocol_primary * | 문자열 | (선택 사항) 목록으로 표시된 대상 볼륨 프로토콜입니다. 지원되는 단일 값으로는 CIFS, NFSv3, NFSv4.1 등이 있습니다. 인수가 정의되지 않으면 기본적으로 NFSv3으로 설정됩니다. 이렇게 변경하면 새 리소스가 생성되고 데이터가 손실됩니다. 


| * az_NetApp_vol_protocol_secondary * | 문자열 | (선택 사항) 목록으로 표시된 대상 볼륨 프로토콜입니다. 지원되는 단일 값으로는 CIFS, NFSv3, NFSv4.1 등이 있습니다. 인수가 정의되지 않으면 기본적으로 NFSv3으로 설정됩니다. 이렇게 변경하면 새 리소스가 생성되고 데이터가 손실됩니다. 


| * az_NetApp_vol_storage_quota_primary * | 문자열 | (필수) 파일 시스템에 허용되는 최대 스토리지 할당량(GB)입니다. 


| * az_NetApp_vol_storage_quota_secondary * | 문자열 | (필수) 파일 시스템에 허용되는 최대 스토리지 할당량(GB)입니다. 


| * az_DP_replication_frequency * | 문자열 | (필수) 복제 빈도 지원되는 값은 10분, 시간별, 일일 값이며 대/소문자를 구분합니다. 
|===

NOTE: 권장 사항에 따라 이 스크립트는 를 사용합니다 `prevent_destroy` 구성 파일에서 실수로 데이터가 손실될 가능성을 줄이기 위한 수명 주기 인수입니다. 에 대한 자세한 내용은 를 참조하십시오 `prevent_destroy` 문서 수정 상태 인수 Terraform 문서를 참조하십시오. https://developer.hashicorp.com/terraform/tutorials/state/resource-lifecycle#prevent-resource-deletion[].

--
.ANF 듀얼 프로토콜
--
.Azure에서 이중 프로토콜을 사용하는 ANF 볼륨 배포를 위한 Terraform 구성 파일
이 섹션에서는 Azure에서 이중 프로토콜이 활성화된 ANF(Azure NetApp Files) 볼륨을 배포/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation
----
. Azure CLI에 로그인합니다(Azure CLI가 설치되어 있어야 함).
+
[source, cli]
----
    az login
----
. VAR/Azure_anf_dual_protocol.tfvars의 변수 값을 업데이트합니다.
+

NOTE: "VNET_creation_bool" 및 "subnet_creation_bool" 값을 false로 설정하고 "subnet_id_for_anf_vol"을 제공하여 기존 VNET 및 서브넷을 사용하여 ANF 볼륨을 배포하도록 선택할 수 있습니다. 또한 이 값을 true로 설정하고 새 VNET 및 서브넷을 생성할 수 있습니다. 이 경우 서브넷 ID는 새로 생성된 서브넷에서 자동으로 가져옵니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.anf_dual_protocol" -var-file="vars/azure_anf_dual_protocol.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.anf_dual_protocol" -var-file="vars/azure_anf_dual_protocol.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
  terraform destroy
----
.수취인:
'단일 노드 인스턴스'

이중 프로토콜이 활성화된 단일 ANF 볼륨에 대한 Terraform 변수.

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * az_location * | 문자열 | (필수) 리소스가 있는 지원되는 Azure 위치를 지정합니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_prefix * | 문자열 | (필수) NetApp Volume을 생성해야 하는 리소스 그룹의 이름입니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| * az_VNET_address_space * | 문자열 | (필수) ANF 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 주소 공간입니다. 


| az_subnet_address_prefix * | 문자열 | (필수) ANF 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 서브넷 주소 접두사입니다. 


| az_volume_path * | 문자열 | (필수) 볼륨의 고유한 파일 경로입니다. 마운트 타겟을 생성할 때 사용됩니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_capacity_pool_size * | 정수 | (필수) 용량 풀 크기가 TB 단위로 언급됩니다. 


| * az_VNET_creation_bool * | 부울 | (필수) 새 VNET를 만들려면 이 부울을 "true"로 설정합니다. 기존 VNET를 사용하려면 false로 설정합니다. 


| az_subnet_creation_bool * | 부울 | (필수) 이 부울을 "true"로 설정하면 새 서브넷이 생성됩니다. 기존 서브넷을 사용하려면 false로 설정합니다. 


| _anf_vol * 용 * az_subnet_id_입니다 | 문자열 | (필수) 'subnet_creation_bool'을 TRUE로 설정하여 기존 서브넷을 사용하려는 경우 서브넷 ID를 언급합니다. false로 설정된 경우 기본값으로 둡니다. 


| * az_netapp_pool_service_level * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_service_level * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| az_NetApp_vol_protocol1 * | 문자열 | (필수) 목록으로 표시된 대상 볼륨 프로토콜입니다. 지원되는 단일 값으로는 CIFS, NFSv3, NFSv4.1 등이 있습니다. 인수가 정의되지 않으면 기본적으로 NFSv3으로 설정됩니다. 이렇게 변경하면 새 리소스가 생성되고 데이터가 손실됩니다. 


| az_NetApp_vol_protocol2 * | 문자열 | (필수) 목록으로 표시된 대상 볼륨 프로토콜입니다. 지원되는 단일 값으로는 CIFS, NFSv3, NFSv4.1 등이 있습니다. 인수가 정의되지 않으면 기본적으로 NFSv3으로 설정됩니다. 이렇게 변경하면 새 리소스가 생성되고 데이터가 손실됩니다. 


| * az_NetApp_vol_storage_quota * | 문자열 | (필수) 파일 시스템에 허용되는 최대 스토리지 할당량(GB)입니다. 


| * az_smb_server_username * | 문자열 | (필수) ActiveDirectory 객체를 생성하는 사용자 이름입니다. 


| az_smb_server_password * | 문자열 | (필수) ActiveDirectory 객체를 생성하는 사용자 암호. 


| az_smb_server_name * | 문자열 | (필수) 서버 이름 을 클릭하여 ActiveDirectory 개체를 생성합니다. 


| * az_smb_dns_servers * | 문자열 | (필수) DNS 서버 IP를 사용하여 ActiveDirectory 개체를 생성합니다. 
|===

NOTE: 권장 사항에 따라 이 스크립트는 를 사용합니다 `prevent_destroy` 구성 파일에서 실수로 데이터가 손실될 가능성을 줄이기 위한 수명 주기 인수입니다. 에 대한 자세한 내용은 를 참조하십시오 `prevent_destroy` 문서 수정 상태 인수 Terraform 문서를 참조하십시오. https://developer.hashicorp.com/terraform/tutorials/state/resource-lifecycle#prevent-resource-deletion[].

--
.스냅샷의 ANF 볼륨
--
.Azure의 Snapshot에서 ANF 볼륨을 배포하기 위한 Terraform 구성 파일
이 섹션에서는 Azure의 스냅샷에서 ANF(Azure NetApp Files) 볼륨을 배포/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation
----
. Azure CLI에 로그인합니다(Azure CLI가 설치되어 있어야 함).
+
[source, cli]
----
    az login
----
. 'VAR/Azure_anf_volume_from_snapshot.tfvars'의 변수 값을 업데이트합니다.



NOTE: "VNET_creation_bool" 및 "subnet_creation_bool" 값을 false로 설정하고 "subnet_id_for_anf_vol"을 제공하여 기존 VNET 및 서브넷을 사용하여 ANF 볼륨을 배포하도록 선택할 수 있습니다. 또한 이 값을 true로 설정하고 새 VNET 및 서브넷을 생성할 수 있습니다. 이 경우 서브넷 ID는 새로 생성된 서브넷에서 자동으로 가져옵니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.anf_volume_from_snapshot" -var-file="vars/azure_anf_volume_from_snapshot.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.anf_volume_from_snapshot" -var-file="vars/azure_anf_volume_from_snapshot.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
  terraform destroy
----
.수취인:
'단일 노드 인스턴스'

스냅샷을 사용하는 단일 ANF 볼륨에 대한 Terraform 변수.

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * az_location * | 문자열 | (필수) 리소스가 있는 지원되는 Azure 위치를 지정합니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_prefix * | 문자열 | (필수) NetApp Volume을 생성해야 하는 리소스 그룹의 이름입니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| * az_VNET_address_space * | 문자열 | (필수) ANF 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 주소 공간입니다. 


| az_subnet_address_prefix * | 문자열 | (필수) ANF 볼륨 구축을 위해 새로 생성된 VNET에서 사용할 서브넷 주소 접두사입니다. 


| az_volume_path * | 문자열 | (필수) 볼륨의 고유한 파일 경로입니다. 마운트 타겟을 생성할 때 사용됩니다. 이 설정을 변경하면 새 리소스가 생성됩니다. 


| az_capacity_pool_size * | 정수 | (필수) 용량 풀 크기가 TB 단위로 언급됩니다. 


| * az_VNET_creation_bool * | 부울 | (필수) 새 VNET를 만들려면 이 부울을 "true"로 설정합니다. 기존 VNET를 사용하려면 false로 설정합니다. 


| az_subnet_creation_bool * | 부울 | (필수) 이 부울을 "true"로 설정하면 새 서브넷이 생성됩니다. 기존 서브넷을 사용하려면 false로 설정합니다. 


| _anf_vol * 용 * az_subnet_id_입니다 | 문자열 | (필수) 'subnet_creation_bool'을 TRUE로 설정하여 기존 서브넷을 사용하려는 경우 서브넷 ID를 언급합니다. false로 설정된 경우 기본값으로 둡니다. 


| * az_netapp_pool_service_level * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_service_level * | 문자열 | (필수) 파일 시스템의 타겟 성능 유효한 값으로는 프리미엄, 슈탄다드, 울트라 등이 있습니다. 


| * az_NetApp_vol_protocol * | 문자열 | (선택 사항) 목록으로 표시된 대상 볼륨 프로토콜입니다. 지원되는 단일 값으로는 CIFS, NFSv3, NFSv4.1 등이 있습니다. 인수가 정의되지 않으면 기본적으로 NFSv3으로 설정됩니다. 이렇게 변경하면 새 리소스가 생성되고 데이터가 손실됩니다. 


| * az_NetApp_vol_storage_quota * | 문자열 | (필수) 파일 시스템에 허용되는 최대 스토리지 할당량(GB)입니다. 


| az_snapshot_id * | 문자열 | (필수) 생성할 새 ANF 볼륨을 사용하는 스냅샷 ID입니다. 
|===

NOTE: 권장 사항에 따라 이 스크립트는 를 사용합니다 `prevent_destroy` 구성 파일에서 실수로 데이터가 손실될 가능성을 줄이기 위한 수명 주기 인수입니다. 에 대한 자세한 내용은 를 참조하십시오 `prevent_destroy` 문서 수정 상태 인수 Terraform 문서를 참조하십시오. https://developer.hashicorp.com/terraform/tutorials/state/resource-lifecycle#prevent-resource-deletion[].

--
.CVO 단일 노드 구축
--
.Azure에서 단일 노드 CVO를 구축하기 위한 Terraform 구성 파일
이 섹션에서는 Azure에서 Cloud Volumes ONTAP(단일 노드 CVO)를 구축/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation
----
. Azure CLI에 로그인합니다(Azure CLI가 설치되어 있어야 함).
+
[source, cli]
----
    az login
----
. VAR\Azure_cvo_single_node_deployment.tfvars의 변수를 업데이트합니다.
. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.az_cvo_single_node_deployment" -var-file="vars\azure_cvo_single_node_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.az_cvo_single_node_deployment" -var-file="vars\azure_cvo_single_node_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
  terraform destroy
----
.수취인:
'단일 노드 인스턴스'

단일 노드 CVO(Cloud Volumes ONTAP)에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * refresh_token * | 문자열 | (필수) NetApp Cloud Manager의 업데이트 토큰 이 문제는 NetApp Cloud Central에서 생성될 수 있습니다. 


| az_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| az_connector_location * | 문자열 | (필수) Cloud Manager Connector를 생성할 위치입니다. 


| az_connector_subscription_id * | 문자열 | (필수) Azure 구독의 ID입니다. 


| az_connector_company * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| az_connector_resource_group * | 정수 | (필수) 리소스가 생성될 Azure의 리소스 그룹입니다. 


| az_connector_subnet_id * | 문자열 | (필수) 가상 머신에 대한 서브넷의 이름입니다. 


| * az_connector_VNET_id * | 문자열 | (필수) 가상 네트워크의 이름입니다. 


| az_connector_network_security_group_name * | 문자열 | (필수) 인스턴스에 대한 보안 그룹의 이름입니다. 


| az_connector_associate_public_ip_address * | 문자열 | (필수) 공용 IP 주소를 가상 머신에 연결할지 여부를 나타냅니다. 


| az_connector_account_id * | 문자열 | (필수) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 


| az_connector_admin_password * | 문자열 | (필수) 커넥터 암호. 


| * az_connector_admin_username * | 문자열 | (필수) Connector의 사용자 이름입니다. 


| az_cvo_name * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * az_cvo_location * | 문자열 | (필수) 작업 환경을 생성할 위치입니다. 


| az_cvo_subnet_id * | 문자열 | (필수) Cloud Volumes ONTAP 시스템의 서브넷 이름입니다. 


| * az_cvo_VNET_id * | 문자열 | (필수) 가상 네트워크의 이름입니다. 


| * az_cvo_vNET_resource_group * | 문자열 | (필수) 가상 네트워크에 연결된 Azure의 리소스 그룹입니다. 


| * az_cvo_data_encryption_type * | 문자열 | (필수) 작업 환경에 사용할 암호화 유형: ['Azure', 'None']. 기본값은 Azure입니다. 


| * az_cvo_storage_type * | 문자열 | (필수) 첫 번째 데이터 집계의 스토리지 유형: ['PREMIUM_LRS', 'standard_LRS', 'standardSSD_LRS']. 기본값은 Premium_LRS입니다 


| az_cvo_svm_password * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| az_cvo_workspace_id * | 문자열 | (필수) Cloud Volumes ONTAP를 구축할 Cloud Manager 작업 공간의 ID입니다. 제공되지 않은 경우 Cloud Manager는 첫 번째 작업 공간을 사용합니다. 의 작업 공간 탭에서 ID를 찾을 수 있습니다 https://cloudmanager.netapp.com[]. 


| az_cvo_capacity_tier * | 문자열 | (필수) 첫 번째 데이터 애그리게이트에 대해 데이터 계층화를 사용할 것인지 여부: ['Blob', 'none'] 기본값은 BLOB입니다. 


| * az_cvo_writing_speed_state * | 문자열 | (필수) Cloud Volumes ONTAP에 대한 쓰기 속도 설정: ['정상', '높음']. 기본값은 '정상'입니다. 이 인수는 HA 쌍과 관련이 없습니다. 


| az_cvo_ONTAP_version * | 문자열 | (필수) 필요한 ONTAP 버전입니다. 'use_latest_version'이 TRUE로 설정되어 있으면 무시됩니다. 기본값은 최신 버전을 사용하는 것입니다. 


| az_cvo_instance_type * | 문자열 | (필수) 선택한 라이센스 유형에 따라 사용할 인스턴스 유형: Explore: ['standard_DS3_v2'], Standard: ['standard_DS4_v2, Standard_DS13_v2, Standard_L8s_v2'], Premium: ['standard_DS5_v2','standard_d14_v2.v2.v2의 모든 인스턴스: 지원되는 인스턴스 유형에 대한 자세한 내용은 Cloud Volumes ONTAP 릴리즈 노트를 참조하십시오. 기본값은 'standard_ds4_v2'입니다. 


| az_cvo_license_type * | 문자열 | (필수) 사용할 라이센스 유형입니다. 싱글 노드: ['Azure-COT-INVURE-PAYGO', Azure-COT-STANDARD-PAGO', Azure-COT-Premium-BYOL', capacity-paygo'] HA: ['Azure-ha-cot-standard-paygo', 'Azure-ha-cot-premium-paygo', 'Azure-ha-cot-premium-BYOL', 'ha-capacity-paygo'] 기본값은 Azure-COT-STANDARD-PAGO입니다. HA는 Capacity-Paygo 또는 ha-capacity-paygo를 사용하여 Bring Your Own License Type Capacity-Based 또는 Freemium을 선택합니다. HA에서 BYOL(Bring Your Own License Type Node-Based)을 선택하려면 Azure-COT-Premium-BYOL(Azure-COT-Premium-BYOL) 또는 Azure-ha-COT-Premium-BYOL(Azure-Hot-Premium-BYOL)을 사용하십시오. 


| * az_cvo_NSS_ACCOUNT * | 문자열 | (필수) 이 Cloud Volumes ONTAP 시스템에서 사용할 NetApp Support 사이트 계정 ID입니다. 라이센스 유형이 BYOL 이고 NSS 계정이 제공되지 않은 경우 Cloud Manager는 기존의 첫 번째 NSS 계정을 사용하려고 합니다. 


| az_tenant_id * | 문자열 | (필수) Azure에 등록된 애플리케이션/서비스 주체의 테넌트 ID입니다. 


| * az_application_id * | 문자열 | (필수) Azure에 등록된 응용 프로그램/서비스 보안 주체의 응용 프로그램 ID입니다. 


| * az_application_key * | 문자열 | (필수) Azure에 등록된 응용 프로그램/서비스 보안 주체의 응용 프로그램 키 
|===
--
.CVO HA 구축
--
.Azure에서 CVO HA를 구축하기 위한 Terraform 구성 파일
이 섹션에서는 Azure에서 CVO(Cloud Volumes ONTAP) HA(고가용성)를 구축/구성하기 위한 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation
----
. Azure CLI에 로그인합니다(Azure CLI가 설치되어 있어야 함).
+
[source, cli]
----
    az login
----
. VAR\Azure_cvo_ha_deployment.tfvars의 변수를 업데이트합니다.
. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.az_cvo_ha_deployment" -var-file="vars\azure_cvo_ha_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.az_cvo_ha_deployment" -var-file="vars\azure_cvo_ha_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
  terraform destroy
----
.수취인:
'HA 쌍 인스턴스'

HA 쌍 Cloud Volumes ONTAP(CVO)에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * refresh_token * | 문자열 | (필수) NetApp Cloud Manager의 업데이트 토큰 이 문제는 NetApp Cloud Central에서 생성될 수 있습니다. 


| az_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| az_connector_location * | 문자열 | (필수) Cloud Manager Connector를 생성할 위치입니다. 


| az_connector_subscription_id * | 문자열 | (필수) Azure 구독의 ID입니다. 


| az_connector_company * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| az_connector_resource_group * | 정수 | (필수) 리소스가 생성될 Azure의 리소스 그룹입니다. 


| az_connector_subnet_id * | 문자열 | (필수) 가상 머신에 대한 서브넷의 이름입니다. 


| * az_connector_VNET_id * | 문자열 | (필수) 가상 네트워크의 이름입니다. 


| az_connector_network_security_group_name * | 문자열 | (필수) 인스턴스에 대한 보안 그룹의 이름입니다. 


| az_connector_associate_public_ip_address * | 문자열 | (필수) 공용 IP 주소를 가상 머신에 연결할지 여부를 나타냅니다. 


| az_connector_account_id * | 문자열 | (필수) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 


| az_connector_admin_password * | 문자열 | (필수) 커넥터 암호. 


| * az_connector_admin_username * | 문자열 | (필수) Connector의 사용자 이름입니다. 


| az_cvo_name * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * az_cvo_location * | 문자열 | (필수) 작업 환경을 생성할 위치입니다. 


| az_cvo_subnet_id * | 문자열 | (필수) Cloud Volumes ONTAP 시스템의 서브넷 이름입니다. 


| * az_cvo_VNET_id * | 문자열 | (필수) 가상 네트워크의 이름입니다. 


| * az_cvo_vNET_resource_group * | 문자열 | (필수) 가상 네트워크에 연결된 Azure의 리소스 그룹입니다. 


| * az_cvo_data_encryption_type * | 문자열 | (필수) 작업 환경에 사용할 암호화 유형: ['Azure', 'None']. 기본값은 Azure입니다. 


| * az_cvo_storage_type * | 문자열 | (필수) 첫 번째 데이터 집계의 스토리지 유형: ['PREMIUM_LRS', 'standard_LRS', 'standardSSD_LRS']. 기본값은 Premium_LRS입니다 


| az_cvo_svm_password * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| az_cvo_workspace_id * | 문자열 | (필수) Cloud Volumes ONTAP를 구축할 Cloud Manager 작업 공간의 ID입니다. 제공되지 않은 경우 Cloud Manager는 첫 번째 작업 공간을 사용합니다. 의 작업 공간 탭에서 ID를 찾을 수 있습니다 https://cloudmanager.netapp.com[]. 


| az_cvo_capacity_tier * | 문자열 | (필수) 첫 번째 데이터 애그리게이트에 대해 데이터 계층화를 사용할 것인지 여부: ['Blob', 'none'] 기본값은 BLOB입니다. 


| * az_cvo_writing_speed_state * | 문자열 | (필수) Cloud Volumes ONTAP에 대한 쓰기 속도 설정: ['정상', '높음']. 기본값은 '정상'입니다. 이 인수는 HA 쌍과 관련이 없습니다. 


| az_cvo_ONTAP_version * | 문자열 | (필수) 필요한 ONTAP 버전입니다. 'use_latest_version'이 TRUE로 설정되어 있으면 무시됩니다. 기본값은 최신 버전을 사용하는 것입니다. 


| az_cvo_instance_type * | 문자열 | (필수) 선택한 라이센스 유형에 따라 사용할 인스턴스 유형: Explore: ['standard_DS3_v2'], Standard: ['standard_DS4_v2, Standard_DS13_v2, Standard_L8s_v2'], Premium: ['standard_DS5_v2', 'Standard_DS14_v2'], BYOL: PayGo에 정의된 모든 인스턴스 유형 지원되는 인스턴스 유형에 대한 자세한 내용은 Cloud Volumes ONTAP 릴리즈 노트를 참조하십시오. 기본값은 'standard_ds4_v2'입니다. 


| az_cvo_license_type * | 문자열 | (필수) 사용할 라이센스 유형입니다. 단일 노드: ['Azure-COT-INVURE-PAYGO, Azure-COT-STANDARD-PAGO, Azure-COT-Premium-BYOL, capacity-paygo'] HA:['Azure-ha-cot-standard-paygo, Azure-ha-cot-premium-paygo, Azure-ha-cot-premium-BYOL, ha-capacity-paygo'] 기본값은 Azure-COT-STANDARD-PAGO입니다. HA는 Capacity-Paygo 또는 ha-capacity-paygo를 사용하여 Bring Your Own License Type Capacity-Based 또는 Freemium을 선택합니다. HA에서 BYOL(Bring Your Own License Type Node-Based)을 선택하려면 Azure-COT-Premium-BYOL(Azure-COT-Premium-BYOL) 또는 Azure-ha-COT-Premium-BYOL(Azure-Hot-Premium-BYOL)을 사용하십시오. 


| * az_cvo_NSS_ACCOUNT * | 문자열 | (필수) 이 Cloud Volumes ONTAP 시스템에서 사용할 NetApp Support 사이트 계정 ID입니다. 라이센스 유형이 BYOL 이고 NSS 계정이 제공되지 않은 경우 Cloud Manager는 기존의 첫 번째 NSS 계정을 사용하려고 합니다. 


| az_tenant_id * | 문자열 | (필수) Azure에 등록된 애플리케이션/서비스 주체의 테넌트 ID입니다. 


| * az_application_id * | 문자열 | (필수) Azure에 등록된 응용 프로그램/서비스 보안 주체의 응용 프로그램 ID입니다. 


| * az_application_key * | 문자열 | (필수) Azure에 등록된 응용 프로그램/서비스 보안 주체의 응용 프로그램 키 
|===
--
=====
====
.GCP
[%collapsible%open]
====
[role="tabbed-block"]
=====
.CVO 단일 노드 구축
--
.GCP에 NetApp CVO(단일 노드 인스턴스)를 구축하기 위한 Terraform 구성 파일
이 섹션에는 GCP(Google Cloud Platform)에서 단일 노드 NetApp CVO(Cloud Volumes ONTAP)를 구축/구성하기 위한 다양한 Terraform 구성 파일이 포함되어 있습니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. GCP 인증 키 JSON 파일을 디렉토리에 저장합니다.
. VAR/GCP_cvo_single_node_deployment.tfvar의 변수 값을 업데이트합니다
+

NOTE: 변수 "GCP_connector_deploy_bool"을 true/false 로 설정하여 커넥터를 배포할 수 있습니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
    terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.gco_single_node" -var-file="vars/gcp_cvo_single_node_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.gcp_single_node" -var-file="vars/gcp_cvo_single_node_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
    terraform destroy
----
.수취인:
커넥터

CVO 배포용 NetApp GCP 커넥터 인스턴스에 대한 Terraform 변수.

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * GCP_CONNETOR_DEPLOY_BOOL * | 불입니다 | (필수) 커넥터 배포를 확인합니다. 


| * GCP_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| * GCP_CONNETOR_PROJECT_ID * | 문자열 | (필수) 커넥터를 생성할 GCP project_id입니다. 


| * GCP_CONNETOR_ZONE * | 문자열 | (필수) Connector를 생성할 GCP 영역입니다. 


| * GCP_connector_company * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| * GCP_CONNETOR_SERVICE_ACCOUNT_EMAIL * | 문자열 | (필수) 커넥터 인스턴스에 대한 SERVICE_ACCOUNT의 전자 메일입니다. 이 서비스 계정은 커넥터가 Cloud Volume ONTAP를 생성할 수 있도록 하는 데 사용됩니다. 


| * GCP_CONNETOR_SERVICE_ACCOUNT_PATH * | 문자열 | (필수) GCP 인증 목적을 위한 service_account JSON 파일의 로컬 경로입니다. 이 서비스 계정은 GCP에서 Connector를 생성하는 데 사용됩니다. 


| * GCP_CONNETOR_ACCOUNT_ID * | 문자열 | (선택 사항) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 
|===
'단일 노드 인스턴스'

GCP의 단일 NetApp CVO 인스턴스에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * GCP_cvo_name * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * GCP_cvo_project_id * | 문자열 | (필수) GCP 프로젝트의 ID입니다. 


| * GCP_cvo_zone * | 문자열 | (필수) 작업 환경을 생성할 영역의 영역입니다. 


| * GCP_cvo_GCP_service_account * | 문자열 | (필수) Google Cloud 스토리지로 콜드 데이터를 계층화할 수 있도록 GCP_SERVICE_ACCOUNT 이메일을 보냅니다. 


| * GCP_cvo_svm_password * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| * GCP_cvo_workspace_id * | 문자열 | (선택 사항) Cloud Volumes ONTAP를 구축할 Cloud Manager 작업 공간의 ID입니다. 제공되지 않은 경우 Cloud Manager는 첫 번째 작업 공간을 사용합니다. 의 작업 공간 탭에서 ID를 찾을 수 있습니다 https://cloudmanager.netapp.com[]. 


| * GCP_cvo_license_type * | 문자열 | (선택 사항) 사용할 라이센스 유형입니다. 단일 노드의 경우: ['capacity-paygo', 'GCP-cot-score-paygo', 'GCP-cot-standard-paygo', 'GCP-cot-premium-paygo', 'GCP-cot-premium-BYOL'], HA:['ha-capacity-paygo', 'GCP-ha-cot-cot-Explore-paygo', 'GCP-ha-cot-standard-paygo', 'GCP-ha-cot-premium-BYOL'] 기본값은 단일 노드의 경우 'capacity-paygo'이고 HA의 경우 'ha-capacity-pago'입니다. 


| * GCP_cvo_capacity_package_name * | 문자열 | (선택 사항) 용량 패키지 이름: ['Essential', 'Professional', 'Freemium']. 기본값은 '필수'입니다. 
|===
--
.CVO HA 구축
--
.GCP에 NetApp CVO(HA 쌍)를 구축하기 위한 Terraform 구성 파일
이 섹션에서는 GCP(Google Cloud Platform)의 고가용성 쌍에 NetApp CVO(Cloud Volumes ONTAP)를 구축/구성하는 다양한 Terraform 구성 파일을 다룹니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. GCP 인증 키 JSON 파일을 디렉토리에 저장합니다.
. VAR/GCP_cvo_ha_deployment.tfvars의 변수 값을 업데이트합니다.
+

NOTE: 변수 "GCP_connector_deploy_bool"을 true/false 로 설정하여 커넥터를 배포할 수 있습니다.

. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
      terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.gcp_ha" -var-file="vars/gcp_cvo_ha_deployment.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.gcp_ha" -var-file="vars/gcp_cvo_ha_deployment.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
    terraform destroy
----
.수취인:
커넥터

CVO 배포용 NetApp GCP 커넥터 인스턴스에 대한 Terraform 변수.

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * GCP_CONNETOR_DEPLOY_BOOL * | 불입니다 | (필수) 커넥터 배포를 확인합니다. 


| * GCP_connector_name * | 문자열 | (필수) Cloud Manager Connector의 이름입니다. 


| * GCP_CONNETOR_PROJECT_ID * | 문자열 | (필수) 커넥터를 생성할 GCP project_id입니다. 


| * GCP_CONNETOR_ZONE * | 문자열 | (필수) Connector를 생성할 GCP 영역입니다. 


| * GCP_connector_company * | 문자열 | (필수) 사용자의 회사 이름입니다. 


| * GCP_CONNETOR_SERVICE_ACCOUNT_EMAIL * | 문자열 | (필수) 커넥터 인스턴스에 대한 SERVICE_ACCOUNT의 전자 메일입니다. 이 서비스 계정은 커넥터가 Cloud Volume ONTAP를 생성할 수 있도록 하는 데 사용됩니다. 


| * GCP_CONNETOR_SERVICE_ACCOUNT_PATH * | 문자열 | (필수) GCP 인증 목적을 위한 service_account JSON 파일의 로컬 경로입니다. 이 서비스 계정은 GCP에서 Connector를 생성하는 데 사용됩니다. 


| * GCP_CONNETOR_ACCOUNT_ID * | 문자열 | (선택 사항) Connector가 연결될 NetApp 계정 ID 제공되지 않은 경우 Cloud Manager는 첫 번째 계정을 사용합니다. 계정이 없는 경우 Cloud Manager에서 새 계정을 만듭니다. Cloud Manager의 어카운트 탭에서 어카운트 ID를 확인할 수 있습니다 https://cloudmanager.netapp.com[]. 
|===
하쌍

GCP의 HA 쌍에 있는 NetApp CVO 인스턴스에 대한 Terraform 변수.

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * GCP_cvo_is_ha * | 불입니다 | (선택 사항) 작업 환경이 HA 쌍인지 여부를 나타냅니다[true, false]. 기본값은 false 입니다. 


| * GCP_cvo_name * | 문자열 | (필수) Cloud Volumes ONTAP 작업 환경의 이름입니다. 


| * GCP_cvo_project_id * | 문자열 | (필수) GCP 프로젝트의 ID입니다. 


| * GCP_cvo_zone * | 문자열 | (필수) 작업 환경을 생성할 영역의 영역입니다. 


| * GCP_cvo_node1_zone * | 문자열 | (선택 사항) 노드 1의 영역 


| * GCP_cvo_node2_zone * | 문자열 | (선택 사항) 노드 2의 영역 


| * GCP_cvo_중재자_존 * | 문자열 | (선택 사항) 중재자를 위한 영역. 


| * GCP_cvo_vPC_id * | 문자열 | (선택 사항) VPC의 이름입니다. 


| * GCP_cvo_subnet_id * | 문자열 | (선택 사항) Cloud Volumes ONTAP에 대한 서브넷의 이름입니다. 기본값은 'default'입니다. 


| * GCP_cvo_vpc0_node_and_data_connectivity * | 문자열 | (선택 사항) 노드 및 데이터 연결에 필요한 NIC1용 VPC 경로입니다. 공유 VPC를 사용하는 경우 netwrok_project_id를 제공해야 합니다. 


| * GCP_cvo_vpc1_cluster_connectivity * | 문자열 | (선택 사항) 클러스터 연결에 필요한 NIC2용 VPC 경로입니다. 


| * GCP_cvo_vpc2_ha_connectivity * | 문자열 | (선택 사항) NIC3용 VPC 경로, HA 연결에 필요 


| * GCP_cvo_vpc3_data_replication * | 문자열 | (선택 사항) 데이터 복제에 필요한 NIC4용 VPC 경로입니다. 


| * GCP_cvo_subnet0_node_and_data_connectivity * | 문자열 | (선택 사항) 노드 및 데이터 연결에 필요한 NIC1의 서브넷 경로입니다. 공유 VPC를 사용하는 경우 netwrok_project_id를 제공해야 합니다. 


| * GCP_cvo_subnet1_cluster_connectivity * | 문자열 | (선택 사항) 클러스터 연결에 필요한 NIC2의 서브넷 경로입니다. 


| * GCP_cvo_subnet2_ha_connectivity * | 문자열 | (선택 사항) HA 연결에 필요한 NIC3의 서브넷 경로입니다. 


| * GCP_cvo_subnet3_data_replication * | 문자열 | (선택 사항) 데이터 복제에 필요한 NIC4의 서브넷 경로입니다. 


| * GCP_cvo_GCP_service_account * | 문자열 | (필수) Google Cloud 스토리지로 콜드 데이터를 계층화할 수 있도록 GCP_SERVICE_ACCOUNT 이메일을 보냅니다. 


| * GCP_cvo_svm_password * | 문자열 | (필수) Cloud Volumes ONTAP의 admin 암호입니다. 


| * GCP_cvo_workspace_id * | 문자열 | (선택 사항) Cloud Volumes ONTAP를 구축할 Cloud Manager 작업 공간의 ID입니다. 제공되지 않은 경우 Cloud Manager는 첫 번째 작업 공간을 사용합니다. 의 작업 공간 탭에서 ID를 찾을 수 있습니다 https://cloudmanager.netapp.com[]. 


| * GCP_cvo_license_type * | 문자열 | (선택 사항) 사용할 라이센스 유형입니다. 단일 노드의 경우: ['capacity-paygo', 'GCP-cot-score-paygo', 'GCP-cot-standard-paygo', 'GCP-cot-premium-paygo', 'GCP-cot-premium-BYOL'], HA:['ha-capacity-paygo', 'GCP-ha-cot-cot-Explore-paygo', 'GCP-ha-cot-standard-paygo', 'GCP-ha-cot-premium-BYOL'] 기본값은 단일 노드의 경우 'capacity-paygo'이고 HA의 경우 'ha-capacity-pago'입니다. 


| * GCP_cvo_capacity_package_name * | 문자열 | (선택 사항) 용량 패키지 이름: ['Essential', 'Professional', 'Freemium']. 기본값은 '필수'입니다. 


| * GCP_cvo_GCP_volume_size * | 문자열 | (선택 사항) 첫 번째 데이터 애그리게이트의 GCP 볼륨 크기입니다. GB의 경우 단위는 [100 또는 500]입니다. TB의 경우 장치는 [1,2,4,8]일 수 있습니다. 기본값은 '1'입니다. 


| * GCP_cvo_GCP_volume_size_unit * | 문자열 | (선택 사항) ['GB' 또는 'TB']. 기본값은 'TB'입니다. 
|===
--
.NetApp 볼륨 볼륨
--
.GCP에 NetApp 볼륨 배포를 위한 Terraform 구성 파일
이 섹션에는 GCP(Google Cloud Platform)에서 NetApp 볼륨(Google Cloud NetApp 볼륨) 볼륨을 배포/구성하는 다양한 Terraform 구성 파일이 포함되어 있습니다.

Terraform 문서: https://registry.terraform.io/providers/NetApp/netapp-gcp/latest/docs[]

.절차를 참조하십시오
템플릿을 실행하려면:

. 리포지토리를 복제합니다.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. 원하는 폴더로 이동합니다
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. GCP 인증 키 JSON 파일을 디렉토리에 저장합니다.
. VAR/GCP_CVs_volume.tfvars의 변수 값을 업데이트합니다.
. Terraform 리포지토리를 초기화하여 모든 필수 구성 요소를 설치하고 배포를 준비합니다.
+
[source, cli]
----
      terraform init
----
. Terraform validate 명령을 사용하여 Terraform 파일을 확인합니다.
+
[source, cli]
----
    terraform validate
----
. 구축 과정에서 예상되는 모든 변경 사항을 미리 보려면 구성을 건식 실행하십시오.
+
[source, cli]
----
    terraform plan -target="module.gcp_cvs_volume" -var-file="vars/gcp_cvs_volume.tfvars"
----
. 배포를 실행합니다
+
[source, cli]
----
    terraform apply -target="module.gcp_cvs_volume" -var-file="vars/gcp_cvs_volume.tfvars"
----


를 눌러 배포를 삭제합니다

[source, cli]
----
    terraform destroy
----
.수취인:
`NetApp Volumes Volume`

NetApp GCP NetApp 볼륨 볼륨에 대한 Terraform 변수

[cols="20%, 10%, 70%"]
|===
| * 이름 * | * 유형 * | * 설명 * 


| * GCP_cvs_name * | 문자열 | (필수) NetApp 볼륨 볼륨의 이름입니다. 


| * GCP_CV_PROJECT_ID * | 문자열 | (필수) NetApp 볼륨 볼륨을 생성할 GCP project_id입니다. 


| * GCP_CV_GCP_SERVICE_ACCOUNT_PATH * | 문자열 | (필수) GCP 인증 목적을 위한 service_account JSON 파일의 로컬 경로입니다. 이 서비스 계정은 GCP에서 NetApp 볼륨 볼륨을 생성하는 데 사용됩니다. 


| * GCP_cvs_region * | 문자열 | (필수) NetApp 볼륨 볼륨을 생성할 GCP 영역입니다. 


| * GCP_cvs_network * | 문자열 | (필수) 볼륨의 네트워크 VPC 


| * GCP_cvs_size * | 정수 | (필수) 볼륨 크기는 102400에서 102400까지입니다(GiB). 


| * GCP_cvs_volume_path * | 문자열 | (선택 사항) 볼륨의 볼륨 경로 이름입니다. 


| * GCP_CV_PROTOCOL_TYPE * | 문자열 | (필수) 볼륨의 PROTOCOL_TYPE. NFS의 경우 'NFSv3' 또는 'NFSv4'를 사용하고 SMB의 경우 'CIFS' 또는 'MB'를 사용합니다. 
|===
--
=====
====